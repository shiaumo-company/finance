#pragma checksum "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor" "{8829d00f-11b8-4213-878b-770e8597ac16}" "d8ca819c1ebb6dbb560c242e18d12da5f7321ad53962aad2f61a93c8b4b2cdd9"
// <auto-generated/>
#pragma warning disable 1591
namespace DBS.Pages
{
    #line hidden
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using DBS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using DBS.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
using System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
using System.Data.SqlClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
using DBS.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
using DBS.Pages;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
using DBS.Services;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/InsertAccount")]
    public partial class InsertAccount : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h3>InsertAccount</h3>\r\n\r\n");
            __builder.AddMarkupContent(1, @"<head><link href=""styles/site.css"" rel=""stylesheet"">
	<link rel=""stylesheet"" href=""https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/4.7.0/css/font-awesome.min.css"">
	<link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css"" integrity=""sha512-XNkCjx/a0lED2ktq3KaBz1v62cxVvLU9y+gZLnhyl4+btRhe+uxLw6J/9M+k2JvZFsX5v9FxVjH4D2u5JUdw=="">
	<meta name=""viewport"" content=""width=device-width, initial-scale=1"">
	<script src=""https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"" integrity=""sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"" crossorigin=""anonymous""></script></head>
");
            __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(2);
            __builder.AddAttribute(3, "Authorized", (global::Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.OpenElement(4, "table");
                __builder2.AddAttribute(5, "class", "table");
                __builder2.AddAttribute(6, "style", "text-align:right");
                __builder2.OpenElement(7, "thead");
                __builder2.OpenElement(8, "td");
                __builder2.OpenElement(9, "button");
                __builder2.AddAttribute(10, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 26 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                          OnClickSave

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(11, "儲存");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(12, "\r\n\t\t\t\t");
                __builder2.OpenElement(13, "p");
#nullable restore
#line 27 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
__builder2.AddContent(14, kkk);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(15, "\r\n\t\t\t");
                __builder2.OpenElement(16, "tbody");
                __builder2.OpenElement(17, "tr");
                __builder2.AddMarkupContent(18, "<td style=\"height:50px; width:175px;\">銀行</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(19, "td");
                __builder2.OpenElement(20, "select");
                __builder2.AddAttribute(21, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(22, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 33 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                             BankChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.OpenElement(23, "option");
                __builder2.AddAttribute(24, "value");
                __builder2.AddAttribute(25, "disabled");
                __builder2.AddAttribute(26, "selected");
                __builder2.AddMarkupContent(27, "請選擇銀行");
                __builder2.CloseElement();
#nullable restore
#line 35 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
        foreach (var banks in BankData.GetBankList())
							{
								string methodName = $"GetBranchList_{banks.BankCode.ToString().Substring(0, 3)}";
								var methodInfo = typeof(BankData).GetMethod(methodName);
								if (methodInfo != null && methodInfo.IsStatic)
								{
									var bankList = (List<BranchInfo>)methodInfo.Invoke(null, null);
									int bankCount = bankList.Count; // 直接使用获取的分行列表的 Count 属性

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(28, "option");
                __builder2.AddAttribute(29, "value", 
#nullable restore
#line 43 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                        banks.BankCode

#line default
#line hidden
#nullable disable
                );
#nullable restore
#line 43 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
__builder2.AddContent(30, banks.BankName);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(31, " (");
#nullable restore
#line 43 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
__builder2.AddContent(32, bankCount);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(33, ")");
                __builder2.CloseElement();
#nullable restore
#line 44 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
								}
							}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(34, "\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(35, "select");
                __builder2.AddAttribute(36, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(37, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 48 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                             CityChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.OpenElement(38, "option");
                __builder2.AddAttribute(39, "value");
                __builder2.AddAttribute(40, "disabled");
                __builder2.AddAttribute(41, "selected");
                __builder2.AddMarkupContent(42, "請選擇地區");
                __builder2.CloseElement();
#nullable restore
#line 50 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
        foreach (var citys in BankData.GetCityList())
							{
								string methodName = $"GetBranchList_{bankCode}";
								var methodInfo = typeof(BankData).GetMethod(methodName);
								if (methodInfo != null && methodInfo.IsStatic)
								{
									var bankList = (List<BranchInfo>)methodInfo.Invoke(null, null);
									var filterbanklist = bankList.Where(item => item.BranchCity == citys.CityCode);
									int bankCount = filterbanklist.Count();

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(43, "option");
                __builder2.AddAttribute(44, "value", 
#nullable restore
#line 59 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                        citys.CityCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(45, "style", 
#nullable restore
#line 59 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                               GetItemStyle(citys)

#line default
#line hidden
#nullable disable
                );
#nullable restore
#line 59 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
__builder2.AddContent(46, citys.CityName);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(47, " (");
#nullable restore
#line 59 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
__builder2.AddContent(48, bankCount);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(49, ")");
                __builder2.CloseElement();
#nullable restore
#line 60 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
								}
							}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(50, "\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(51, "select");
                __builder2.AddAttribute(52, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(53, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 64 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                             BranchChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.OpenElement(54, "option");
                __builder2.AddAttribute(55, "value");
                __builder2.AddAttribute(56, "disabled");
                __builder2.AddAttribute(57, "selected");
                __builder2.AddMarkupContent(58, "請選擇分行");
                __builder2.CloseElement();
#nullable restore
#line 66 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
        if (selectedBranchList != null)
							{
								

#line default
#line hidden
#nullable disable
#nullable restore
#line 68 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
         foreach (var banks in selectedBranchList.Where(item => item.BranchCity == @city))
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(59, "option");
                __builder2.AddAttribute(60, "value", 
#nullable restore
#line 70 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                        banks.BranchCode

#line default
#line hidden
#nullable disable
                );
#nullable restore
#line 70 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
__builder2.AddContent(61, banks.BranchName);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 71 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
								}

#line default
#line hidden
#nullable disable
#nullable restore
#line 71 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
         
							}

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(62, "option");
                __builder2.AddAttribute(63, "value", "additionalValue");
                __builder2.AddMarkupContent(64, "請選擇分行");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(65, "\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t");
                __builder2.AddMarkupContent(66, "<script>\r\n\t\t\t\t\t\t\tfunction resetBranchDropdown() \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar branchDropdown = document.getElementById(\'branchDropdown\');\r\n\t\t\t\t\t\t\t\tbranchDropdown.selectedIndex = 0; // 設置為第一個選項，即\"請選擇分行\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</script>");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(67, "\r\n\t\t\t\t\t");
                __builder2.OpenElement(68, "tr");
                __builder2.AddMarkupContent(69, "<td style=\"height:50px; width:175px;\">開戶帳號</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(70, "td");
                __builder2.OpenElement(71, "input");
                __builder2.AddAttribute(72, "style", "height:50px; width:100px;");
                __builder2.AddAttribute(73, "readonly");
                __builder2.AddAttribute(74, "value", (
#nullable restore
#line 88 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                                 bankCode

#line default
#line hidden
#nullable disable
                ) + " " + (
#nullable restore
#line 88 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                                           branchCode

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(75, "class", "right-align");
                __builder2.AddAttribute(76, "id", "InitialCode");
                __builder2.AddAttribute(77, "asp-for", "InitialCode");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(78, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(79, "input");
                __builder2.AddAttribute(80, "style", "height:50px; width:500px;");
                __builder2.AddAttribute(81, "id", "InitialAccount");
                __builder2.AddAttribute(82, "type", "number");
                __builder2.AddAttribute(83, "asp-for", "InitialAccount");
                __builder2.AddAttribute(84, "placeholder", "開戶帳號");
                __builder2.AddAttribute(85, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 89 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                                                                                  InitialAccount

#line default
#line hidden
#nullable disable
                , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.AddAttribute(86, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => InitialAccount = __value, InitialAccount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(87, "\r\n\t\t\t\t\t");
                __builder2.OpenElement(88, "tr");
                __builder2.AddMarkupContent(89, "<td style=\"height:50px; width:175px;\">銀行地址</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(90, "td");
                __builder2.OpenElement(91, "input");
                __builder2.AddAttribute(92, "style", "height:50px; width:500px;");
                __builder2.AddAttribute(93, "id", "BankAddress");
                __builder2.AddAttribute(94, "type", "text");
                __builder2.AddAttribute(95, "asp-for", "BankAddress");
                __builder2.AddAttribute(96, "placeholder", "銀行地址");
                __builder2.AddAttribute(97, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 95 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                                                                         BankAddress

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(98, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => BankAddress = __value, BankAddress));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(99, "\r\n\t\t\t\t\t");
                __builder2.OpenElement(100, "tr");
                __builder2.AddMarkupContent(101, "<td style=\"height:50px; width:175px;\">銀行網頁</td>\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(102, "td");
                __builder2.AddAttribute(103, "style", "height:50px; width:175px;");
                __builder2.OpenElement(104, "a");
                __builder2.AddAttribute(105, "href", 
#nullable restore
#line 101 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                  selectedBankWeb

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(106, "target", "_blank");
#nullable restore
#line 101 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
__builder2.AddContent(107, bank);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(108, "\r\n\t\t\t\t\t");
                __builder2.OpenElement(109, "tr");
                __builder2.AddMarkupContent(110, "<td style=\"height:50px; width:175px;\">備註</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(111, "td");
                __builder2.OpenElement(112, "input");
                __builder2.AddAttribute(113, "style", "height:50px; width:175px;");
                __builder2.AddAttribute(114, "id", "remark");
                __builder2.AddAttribute(115, "type", "text");
                __builder2.AddAttribute(116, "asp-for", "remark");
                __builder2.AddAttribute(117, "placeholder", "備註");
                __builder2.AddAttribute(118, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 107 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
                                                                                               remark

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(119, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => remark = __value, remark));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 116 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\InsertAccount.razor"
       
	bool isEdit = false;
	int editingIndex = -1;
	Dictionary<int, bool> editStates = new Dictionary<int, bool>();

	public class DataSharedVision
	{
		public static int dataVersion { get; set; } = 1;// 初始化一個版本號，可以是時間戳記或其他唯一識別號
	}
	public static int GetDataVersion()
	{
		return DataSharedVision.dataVersion;
	}

	// 在City2Change事件處理程序中調用JavaScript函數
	private async Task City2Change(ChangeEventArgs e)
	{
		// 调用 JavaScript 函数重置分行下拉列表
		await JSRuntime.InvokeVoidAsync("resetBranchDropdown");
	}

	string kkk = "";
	private string GetItemStyle(CityInfo city)
	{
		// 根據特定條件設置樣式
		if (city.IsLargeFont)
		{
			return " font-weight: bold; color: red; ";
		}
		else
		{
			return "font-size: 16px;";
		}
	}
	public List<BranchInfo> selectedBranchList;
	public BankInfo[] selectBankList;
	string selectBank;
	string bank, bankName, bankCode, branch, branchCode, branchCodeFull, branchName, selectedBankWeb;
	public void BankChange(ChangeEventArgs e)
	{
		bank = e.Value?.ToString();
		bankName = e.Value?.ToString().Substring(3);
		bankCode = e.Value?.ToString().Substring(0, 3);
		selectedBankWeb = GetBankWeb(bank);
		branchCode = "";
		switch (bankCode)
		{
			case "004":
				selectedBranchList = BankData.GetBranchList_004();
				break;
			case "005":
				selectedBranchList = BankData.GetBranchList_005();
				break;
			case "006":
				selectedBranchList = BankData.GetBranchList_006();
				break;
			case "007":
				selectedBranchList = BankData.GetBranchList_007();
				break;
			case "008":
				selectedBranchList = BankData.GetBranchList_008();
				break;
			case "009":
				selectedBranchList = BankData.GetBranchList_009();
				break;
			case "011":
				selectedBranchList = BankData.GetBranchList_011();
				break;
			case "012":
				selectedBranchList = BankData.GetBranchList_012();
				break;
			case "013":
				selectedBranchList = BankData.GetBranchList_013();
				break;
			case "015":
				selectedBranchList = BankData.GetBranchList_015();
				break;
			case "016":
				selectedBranchList = BankData.GetBranchList_016();
				break;
			case "017":
				selectedBranchList = BankData.GetBranchList_017();
				break;
			case "018":
				selectedBranchList = BankData.GetBranchList_018();
				break;
			case "021":
				selectedBranchList = BankData.GetBranchList_021();
				break;
			case "040":
				selectedBranchList = BankData.GetBranchList_040();
				break;
			case "048":
				selectedBranchList = BankData.GetBranchList_048();
				break;
			case "050":
				selectedBranchList = BankData.GetBranchList_050();
				break;
			case "052":
				selectedBranchList = BankData.GetBranchList_052();
				break;
			case "053":
				selectedBranchList = BankData.GetBranchList_053();
				break;
			case "054":
				selectedBranchList = BankData.GetBranchList_054();
				break;
			case "081":
				selectedBranchList = BankData.GetBranchList_081();
				break;
			case "101":
				selectedBranchList = BankData.GetBranchList_101();
				break;
			case "102":
				selectedBranchList = BankData.GetBranchList_102();
				break;
			case "103":
				selectedBranchList = BankData.GetBranchList_103();
				break;
			case "108":
				selectedBranchList = BankData.GetBranchList_108();
				break;
			case "147":
				selectedBranchList = BankData.GetBranchList_147();
				break;
			case "803":
				selectedBranchList = BankData.GetBranchList_803();
				break;
			case "805":
				selectedBranchList = BankData.GetBranchList_805();
				break;
			case "806":
				selectedBranchList = BankData.GetBranchList_806();
				break;
			case "807":
				selectedBranchList = BankData.GetBranchList_807();
				break;
			case "808":
				selectedBranchList = BankData.GetBranchList_808();
				break;
			case "809":
				selectedBranchList = BankData.GetBranchList_809();
				break;
			case "810":
				selectedBranchList = BankData.GetBranchList_810();
				break;
			case "812":
				selectedBranchList = BankData.GetBranchList_812();
				break;

			case "816":
				selectedBranchList = BankData.GetBranchList_816();
				break;
			case "822":
				selectedBranchList = BankData.GetBranchList_822();
				break;
		}
	}
	string getBank, lastBankCode, lastBranchCode;
	public void getbank(string bankCode, string branchCode)
	{

		getBank = bankCode + branchCode;
		// Update last values
		lastBankCode = bankCode;
		lastBranchCode = branchCode;
	}
	public static string GetBankWeb(string bank)
	{
		var bankInfo = BankData.GetBankList().Where(item => item.BankCode == @bank)
		.FirstOrDefault();
		return bankInfo?.BankWeb ?? "未找到網頁銀行";
	}
	public void BranchChange(ChangeEventArgs e)
	{
		branch = e.Value.ToString();
		branchName = e.Value.ToString().Substring(7);
		branchCodeFull = e.Value.ToString().Substring(0, 8);
		branchCode = e.Value.ToString().Substring(3, 4);
		// 获取相应的 BranchInfo 对象
		var selectedBranch = selectedBranchList.FirstOrDefault(item => item.BranchCode.ToString().Substring(0, 8) == @branchCodeFull);
		//// 设置 BankAddress
		BankAddress = selectedBranch != null ? selectedBranch.BranchAddress : "未知地址";
	}

	string region;
	public void RegionChange(ChangeEventArgs e)
	{
		region = e.Value.ToString();
	}

	string city;
	public void CityChange(ChangeEventArgs e)
	{
		city = e.Value.ToString();
	}
	string money;

	string BankAddress, remark, InitialMoney, InitialAccount;
	public void MoneyChange(ChangeEventArgs e)
	{
		InitialAccount = e.Value.ToString();
	}


	string datee;
	public AccountRepair[] m_AccountRepairS;//帳戶維護的列表
	public void OnClickSave(MouseEventArgs e)
	{
		datee = DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss");
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataset1 = new DataSet();
		if (string.IsNullOrEmpty(bankName))
		{
			AlertService.Error("請選擇銀行");
			return;
		}
		if (string.IsNullOrEmpty(city))
		{
			AlertService.Error("請選擇地區");
			return;
		}
		if (string.IsNullOrEmpty(branch))
		{
			AlertService.Error("請選擇分行");
			return;
		}
		if (string.IsNullOrEmpty(InitialAccount))
		{
			AlertService.Error("請填寫銀行帳號");
			return;
		}
		m_AccountRepairS = ServerData.m_AccountRepairS.ToArray();
		for (int i = 0; i < m_AccountRepairS.Length; i++)
		{
			if (m_AccountRepairS[i].baccountNo == InitialAccount)
			{
				AlertService.Error("該帳戶已存在");
				return;
			}
		}

		//Insert Into dbo.NewAccountRepair 
		string SQLString = "INSERT INTO dbo.NewAccountRepair ([accountBank],[accountBankNo],[accountBranch], [accountBranchNo], [accountNo], [accountAddress],[accountInitialMoney],[accountInsert],[accountUpdate]) VALUES (	@bankName,@bankCode,@branchName,@branchCode,@InitialAccount,@BankAddress,@InitialMoney,@accountInsert,@accountUpdate)";
		if (sqlconnection.State == System.Data.ConnectionState.Closed)
		{
			//kkk += $"銀行{bankName}銀行代號{bankCode}分行{branchName}分行代號{branchCode}帳號{InitialAccount}地址{BankAddress}";

			//@bankName,@bankCode,@branchName,@branchCode,@InitialAccount,@BankAddress
			sqlconnection.Open();
			SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
			sqlcommand.Parameters.AddWithValue("@bankName", bankName);//銀行
			sqlcommand.Parameters.AddWithValue("@bankCode", bankCode);//銀行代馬
			sqlcommand.Parameters.AddWithValue("@branchName", branchName);//分行
			sqlcommand.Parameters.AddWithValue("@branchCode", branchCode);//分行代碼
			sqlcommand.Parameters.AddWithValue("@InitialAccount", InitialAccount);//帳戶
			sqlcommand.Parameters.AddWithValue("@BankAddress", BankAddress);//地址
			sqlcommand.Parameters.AddWithValue("@InitialMoney", (object)InitialMoney ?? 0);//期初金額
			sqlcommand.Parameters.AddWithValue("@accountInsert", datee);//加入時間
			sqlcommand.Parameters.AddWithValue("@accountUpdate", datee);//更新時間
			int rowsAffected = sqlcommand.ExecuteNonQuery();
			if (rowsAffected > 0)
			{
				AlertService.Success($"成功新增{rowsAffected}條");
				DataVersionService.IncrementDataVersion();
				kkk += DataVersionService.DataVersion.ToString();
				// 清空輸入字段

				InitialAccount = string.Empty;
				BankAddress = string.Empty;
				bankCode = string.Empty;
				branchCode = string.Empty;
				remark = string.Empty;
				showTable_save = false;
				showTable_select = false;
				showTable_selectall = false;
				showTable_selectpart = false;
			}
			else
			{
				AlertService.Error("更新失敗");
			}
			SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
			sqlTransaction.Commit();
		}


	}
	public bool showTable_select = false;
	public bool showTable_save = false;
	public bool showTable_selectall = false;
	public bool showTable_selectpart = false;
	public void OnClickAdd(MouseEventArgs e)
	{
		showTable_save = true;
		showTable_selectall = false;
		showTable_selectpart = false;
		showTable_select = false;
	}



#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DataVersionService DataVersionService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAlertService AlertService { get; set; }
    }
}
#pragma warning restore 1591
