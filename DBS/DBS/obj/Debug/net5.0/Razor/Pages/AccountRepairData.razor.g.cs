#pragma checksum "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor" "{8829d00f-11b8-4213-878b-770e8597ac16}" "24c04351f6d89e0de4c329813e8d4275812389a9a4ab81cce70ff814643f3a93"
// <auto-generated/>
#pragma warning disable 1591
namespace DBS.Pages
{
    #line hidden
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using DBS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\013590\source\repos\DBS\DBS\DBS\_Imports.razor"
using DBS.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
using System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
using System.Data.SqlClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
using DBS.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
using DBS.Pages;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
using DBS.Services;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/AccountRepairData")]
    public partial class AccountRepairData : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h3 b-naojhco0ht>accountrepairdata</h3>\r\n\r\n");
            __builder.AddMarkupContent(1, "<head b-naojhco0ht><link href=\"styles/site.css\" rel=\"stylesheet\" b-naojhco0ht></head>\r\n");
            __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(2);
            __builder.AddAttribute(3, "Authorized", (global::Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
#nullable restore
#line 19 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
   if (showTable_select)
		{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(4, "table");
                __builder2.AddAttribute(5, "class", "table");
                __builder2.AddAttribute(6, "style", "text-align:right; margin-top:20px;");
                __builder2.AddAttribute(7, "b-naojhco0ht");
                __builder2.OpenElement(8, "thead");
                __builder2.AddAttribute(9, "b-naojhco0ht");
                __builder2.OpenElement(10, "button");
                __builder2.AddAttribute(11, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 23 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                        OnClickAdd

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(12, "b-naojhco0ht");
                __builder2.AddMarkupContent(13, "新增");
                __builder2.CloseElement();
#nullable restore
#line 24 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
      if (showTable_selectall || showTable_selectpart)
					{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(14, "td");
                __builder2.AddAttribute(15, "b-naojhco0ht");
                __builder2.OpenElement(16, "select");
                __builder2.AddAttribute(17, "style", "height: 30px; width: 175px;");
                __builder2.AddAttribute(18, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 27 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                 BankChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(19, "b-naojhco0ht");
                __builder2.OpenElement(20, "option");
                __builder2.AddAttribute(21, "value");
                __builder2.AddAttribute(22, "disabled");
                __builder2.AddAttribute(23, "selected");
                __builder2.AddAttribute(24, "b-naojhco0ht");
                __builder2.AddMarkupContent(25, "請選擇銀行");
                __builder2.CloseElement();
#nullable restore
#line 30 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
         foreach (var banks in BankData.GetBankList())
								{
									var updatedData = DataVersionService.DataVersion != 1
										? UpdateAccountRepairALL().Where(repairs => repairs.baccountBankNo == banks.BankCode.ToString().Substring(0, 3))
																		.GroupBy(item => item.baccountNo)
																		.Select(group => group.First())
																		.ToArray()
										: ServerData.m_AccountRepairS.Where(repairs => repairs.baccountBankNo == banks.BankCode.ToString().Substring(0, 3))
																	.GroupBy(item => item.baccountNo)
																	.Select(group => group.First())
																	.ToArray();

									if (updatedData.Any())
									{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(26, "option");
                __builder2.AddAttribute(27, "value", 
#nullable restore
#line 44 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                     banks.BankCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(28, "b-naojhco0ht");
#nullable restore
#line 44 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(29, banks.BankName);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 45 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
									}
								}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 49 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
					}
					else
					{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(30, "td");
                __builder2.AddAttribute(31, "b-naojhco0ht");
                __builder2.OpenElement(32, "select");
                __builder2.AddAttribute(33, "style", "height: 30px; width: 175px;");
                __builder2.AddAttribute(34, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 53 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                 BankChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(35, "b-naojhco0ht");
                __builder2.OpenElement(36, "option");
                __builder2.AddAttribute(37, "value");
                __builder2.AddAttribute(38, "disabled");
                __builder2.AddAttribute(39, "selected");
                __builder2.AddAttribute(40, "b-naojhco0ht");
                __builder2.AddMarkupContent(41, "請選擇銀行");
                __builder2.CloseElement();
#nullable restore
#line 56 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
         foreach (var banks in BankData.GetBankList())
								{
									var distinctRepairs = ServerData.m_AccountRepairS.Where(repairs => repairs.baccountBankNo == banks.BankCode.ToString().Substring(0, 3));
									if (distinctRepairs.Any())
									{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(42, "option");
                __builder2.AddAttribute(43, "value", 
#nullable restore
#line 61 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                     banks.BankCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(44, "b-naojhco0ht");
#nullable restore
#line 61 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(45, banks.BankName);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 62 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
									}
								}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 66 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
					}

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(46, "button");
                __builder2.AddAttribute(47, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 67 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                         OnClickSelect

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(48, "b-naojhco0ht");
                __builder2.AddMarkupContent(49, "部分搜尋");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(50, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(51, "button");
                __builder2.AddAttribute(52, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 68 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                         OnClickSelect_All

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(53, "b-naojhco0ht");
                __builder2.AddMarkupContent(54, "搜尋全部");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(55, "\t\t\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(56, "<tr b-naojhco0ht><th style=\"text-align:center\" b-naojhco0ht>操作</th>\r\n\t\t\t\t\t\t\t\t<th b-naojhco0ht>加入日期</th>\r\n\t\t\t\t\t\t\t\t<th b-naojhco0ht>銀行代碼</th>\r\n\t\t\t\t\t\t\t\t<th b-naojhco0ht>帳號</th>\r\n\t\t\t\t\t\t\t\t<th b-naojhco0ht>地址</th>\r\n\t\t\t\t\t\t\t\t<th b-naojhco0ht>備註</th></tr>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(57, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(58, "tbody");
                __builder2.AddAttribute(59, "b-naojhco0ht");
#nullable restore
#line 79 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
      if (m_AccountRepairS != null)
					{					
						

#line default
#line hidden
#nullable disable
#nullable restore
#line 81 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
       foreach (var (account, i) in m_AccountRepairS.Select((account, i) => (account, i)))
						{
							var isEditing = editStates.ContainsKey(i) && editStates[i];

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(60, "tr");
                __builder2.AddAttribute(61, "b-naojhco0ht");
                __builder2.OpenElement(62, "td");
                __builder2.AddAttribute(63, "b-naojhco0ht");
                __builder2.OpenElement(64, "button");
                __builder2.AddAttribute(65, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 86 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                    () => OnClickDel(i)

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(66, "b-naojhco0ht");
                __builder2.AddMarkupContent(67, "刪除");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(68, "\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(69, "td");
                __builder2.AddAttribute(70, "style", "text-align:center");
                __builder2.AddAttribute(71, "b-naojhco0ht");
#nullable restore
#line 88 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(72, account.baccountInsert.ToShortDateString());

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(73, "\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(74, "td");
                __builder2.AddAttribute(75, "b-naojhco0ht");
#nullable restore
#line 89 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(76, account.baccountBankNo);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(77, " ");
#nullable restore
#line 89 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(78, account.baccountBank);

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(79, "<br b-naojhco0ht>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(80, "span");
                __builder2.AddAttribute(81, "b-naojhco0ht");
#nullable restore
#line 90 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(82, account.baccountBranchNo);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(83, " ");
#nullable restore
#line 90 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(84, account.baccountBranch);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(85, "\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br b-naojhco0ht>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(86, "\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(87, "td");
                __builder2.AddAttribute(88, "b-naojhco0ht");
#nullable restore
#line 93 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(89, account.baccountNo);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(90, "\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(91, "td");
                __builder2.AddAttribute(92, "b-naojhco0ht");
#nullable restore
#line 94 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(93, account.baccountAddress);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(94, "\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(95, "td");
                __builder2.AddAttribute(96, "b-naojhco0ht");
#nullable restore
#line 95 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(97, account.bremark);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(98, "\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td b-naojhco0ht></td>");
                __builder2.CloseElement();
#nullable restore
#line 98 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"

						}

#line default
#line hidden
#nullable disable
#nullable restore
#line 99 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
       
					}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 103 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
		}
		else
		{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(99, "table");
                __builder2.AddAttribute(100, "class", "table");
                __builder2.AddAttribute(101, "style", "text-align:right");
                __builder2.AddAttribute(102, "b-naojhco0ht");
                __builder2.OpenElement(103, "thead");
                __builder2.AddAttribute(104, "b-naojhco0ht");
                __builder2.OpenElement(105, "tr");
                __builder2.AddAttribute(106, "b-naojhco0ht");
#nullable restore
#line 109 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
       if (showTable_save)
						{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(107, "td");
                __builder2.AddAttribute(108, "b-naojhco0ht");
                __builder2.OpenElement(109, "button");
                __builder2.AddAttribute(110, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 111 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                 OnClickSave

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(111, "b-naojhco0ht");
                __builder2.AddMarkupContent(112, "儲存");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(113, "\r\n\t\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(114, "td");
                __builder2.AddAttribute(115, "b-naojhco0ht");
                __builder2.OpenElement(116, "button");
                __builder2.AddAttribute(117, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 112 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                 OnClickCancel

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(118, "b-naojhco0ht");
                __builder2.AddMarkupContent(119, "取消");
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 113 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
						}
						else
						{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(120, "td");
                __builder2.AddAttribute(121, "b-naojhco0ht");
                __builder2.OpenElement(122, "button");
                __builder2.AddAttribute(123, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 116 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                OnClickSave

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(124, "b-naojhco0ht");
                __builder2.AddMarkupContent(125, "儲存");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(126, "\r\n\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(127, "td");
                __builder2.AddAttribute(128, "b-naojhco0ht");
                __builder2.OpenElement(129, "button");
                __builder2.AddAttribute(130, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 117 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                OnClickSelect_All

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(131, "b-naojhco0ht");
                __builder2.AddMarkupContent(132, "搜尋全部");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(133, "\r\n\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(134, "td");
                __builder2.AddAttribute(135, "b-naojhco0ht");
                __builder2.OpenElement(136, "select");
                __builder2.AddAttribute(137, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(138, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 119 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                BankChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(139, "b-naojhco0ht");
                __builder2.OpenElement(140, "option");
                __builder2.AddAttribute(141, "value");
                __builder2.AddAttribute(142, "disabled");
                __builder2.AddAttribute(143, "selected");
                __builder2.AddAttribute(144, "b-naojhco0ht");
                __builder2.AddMarkupContent(145, "請選擇銀行");
                __builder2.CloseElement();
#nullable restore
#line 121 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
          foreach (var banks in BankData.GetBankList())
									{
										

#line default
#line hidden
#nullable disable
#nullable restore
#line 123 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
           if (DataVersionService.DataVersion != 1)//如果有變更則要重新去資料庫抓資料，即時更新
										{
											AccountRepair[] updatedData = UpdateAccountRepairALL();
											updatedData = updatedData.Where(repairs => repairs.baccountBankNo == banks.BankCode.ToString().Substring(0, 3))
															.GroupBy(item => item.baccountNo)
															.Select(group => group.First())
															.ToArray();
											if (updatedData.Any())
											{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(146, "option");
                __builder2.AddAttribute(147, "value", 
#nullable restore
#line 132 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                      banks.BankCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(148, "b-naojhco0ht");
#nullable restore
#line 132 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(149, banks.BankName);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 133 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
											}
										}
										else
										{
											var distinctRepairs = ServerData.m_AccountRepairS.Where(repairs => repairs.baccountBankNo == banks.BankCode.ToString().Substring(0, 3))
																		.GroupBy(item => item.baccountNo)
																		.Select(group => group.First())
																		.ToArray();
											if (distinctRepairs.Any())
											{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(150, "option");
                __builder2.AddAttribute(151, "value", 
#nullable restore
#line 143 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                      banks.BankCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(152, "b-naojhco0ht");
#nullable restore
#line 143 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(153, banks.BankName);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 144 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
											}
										}

#line default
#line hidden
#nullable disable
#nullable restore
#line 145 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
           
									}

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(154, "\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(155, "\r\n\t\t\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(156, "td");
                __builder2.AddAttribute(157, "b-naojhco0ht");
                __builder2.OpenElement(158, "button");
                __builder2.AddAttribute(159, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 150 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                OnClickSelect

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(160, "b-naojhco0ht");
                __builder2.AddMarkupContent(161, "部分搜尋");
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 151 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
						}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(162, "\r\n\t\t\t\t\t");
                __builder2.OpenElement(163, "table");
                __builder2.AddAttribute(164, "class", "table");
                __builder2.AddAttribute(165, "style", "text-align:right");
                __builder2.AddAttribute(166, "b-naojhco0ht");
                __builder2.OpenElement(167, "tbody");
                __builder2.AddAttribute(168, "b-naojhco0ht");
                __builder2.OpenElement(169, "tr");
                __builder2.AddAttribute(170, "b-naojhco0ht");
                __builder2.AddMarkupContent(171, "<td style=\"height:50px; width:175px;\" b-naojhco0ht>銀行</td>\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(172, "td");
                __builder2.AddAttribute(173, "b-naojhco0ht");
                __builder2.OpenElement(174, "select");
                __builder2.AddAttribute(175, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(176, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 160 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                              BankChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(177, "b-naojhco0ht");
                __builder2.OpenElement(178, "option");
                __builder2.AddAttribute(179, "value");
                __builder2.AddAttribute(180, "disabled");
                __builder2.AddAttribute(181, "selected");
                __builder2.AddAttribute(182, "b-naojhco0ht");
                __builder2.AddMarkupContent(183, "請選擇銀行");
                __builder2.CloseElement();
#nullable restore
#line 162 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
         foreach (var banks in BankData.GetBankList())
								{
									string methodName = $"GetBranchList_{banks.BankCode.ToString().Substring(0, 3)}";
									var methodInfo = typeof(BankData).GetMethod(methodName);
									if (methodInfo != null && methodInfo.IsStatic)
									{
										var bankList = (List<BranchInfo>)methodInfo.Invoke(null, null);
										int bankCount = bankList.Count; // 直接使用获取的分行列表的 Count 属性

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(184, "option");
                __builder2.AddAttribute(185, "value", 
#nullable restore
#line 170 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                               banks.BankCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(186, "b-naojhco0ht");
#nullable restore
#line 170 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(187, banks.BankName);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(188, " (");
#nullable restore
#line 170 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(189, bankCount);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(190, ")");
                __builder2.CloseElement();
#nullable restore
#line 171 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
									}
								}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(191, "\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(192, "select");
                __builder2.AddAttribute(193, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(194, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 175 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                              CityChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(195, "b-naojhco0ht");
                __builder2.OpenElement(196, "option");
                __builder2.AddAttribute(197, "value");
                __builder2.AddAttribute(198, "disabled");
                __builder2.AddAttribute(199, "selected");
                __builder2.AddAttribute(200, "b-naojhco0ht");
                __builder2.AddMarkupContent(201, "請選擇地區");
                __builder2.CloseElement();
#nullable restore
#line 177 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
         foreach (var citys in BankData.GetCityList())
								{
									string methodName = $"GetBranchList_{bankCode}";
									var methodInfo = typeof(BankData).GetMethod(methodName);
									if (methodInfo != null && methodInfo.IsStatic)
									{
										var bankList = (List<BranchInfo>)methodInfo.Invoke(null, null);
										var filterbanklist = bankList.Where(item => item.BranchCity == citys.CityCode);
										int bankCount = filterbanklist.Count();

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(202, "option");
                __builder2.AddAttribute(203, "value", 
#nullable restore
#line 186 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                               citys.CityCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(204, "style", 
#nullable restore
#line 186 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                      GetItemStyle(citys)

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(205, "b-naojhco0ht");
#nullable restore
#line 186 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(206, citys.CityName);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(207, " (");
#nullable restore
#line 186 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(208, bankCount);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(209, ")");
                __builder2.CloseElement();
#nullable restore
#line 187 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
									}
								}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(210, "\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(211, "select");
                __builder2.AddAttribute(212, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(213, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 191 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                              BranchChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(214, "b-naojhco0ht");
                __builder2.OpenElement(215, "option");
                __builder2.AddAttribute(216, "value");
                __builder2.AddAttribute(217, "disabled");
                __builder2.AddAttribute(218, "selected");
                __builder2.AddAttribute(219, "b-naojhco0ht");
                __builder2.AddMarkupContent(220, "請選擇分行");
                __builder2.CloseElement();
#nullable restore
#line 193 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
         if (selectedBranchList != null)
								{
									

#line default
#line hidden
#nullable disable
#nullable restore
#line 195 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
          foreach (var banks in selectedBranchList.Where(item => item.BranchCity == @city))
									{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(221, "option");
                __builder2.AddAttribute(222, "value", 
#nullable restore
#line 197 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                 banks.BranchCode

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(223, "b-naojhco0ht");
#nullable restore
#line 197 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(224, banks.BranchName);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 198 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
									}

#line default
#line hidden
#nullable disable
#nullable restore
#line 198 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
          
								}

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(225, "option");
                __builder2.AddAttribute(226, "value", "additionalValue");
                __builder2.AddAttribute(227, "b-naojhco0ht");
                __builder2.AddMarkupContent(228, "請選擇分行");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(229, "\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t");
                __builder2.AddMarkupContent(230, "<script b-naojhco0ht>\r\n\t\t\t\t\t\t\t\t\tfunction resetBranchDropdown() \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvar branchDropdown = document.getElementById(\'branchDropdown\');\r\n\t\t\t\t\t\t\t\t\t\tbranchDropdown.selectedIndex = 0; // 設置為第一個選項，即\"請選擇分行\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</script>");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(231, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(232, "tr");
                __builder2.AddAttribute(233, "b-naojhco0ht");
                __builder2.AddMarkupContent(234, "<td style=\"height:50px; width:175px;\" b-naojhco0ht>開戶帳號</td>\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(235, "td");
                __builder2.AddAttribute(236, "b-naojhco0ht");
                __builder2.OpenElement(237, "input");
                __builder2.AddAttribute(238, "style", "height:50px; width:100px;");
                __builder2.AddAttribute(239, "readonly");
                __builder2.AddAttribute(240, "value", (
#nullable restore
#line 215 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                  bankCode

#line default
#line hidden
#nullable disable
                ) + " " + (
#nullable restore
#line 215 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                            branchCode

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(241, "class", "right-align");
                __builder2.AddAttribute(242, "id", "InitialCode");
                __builder2.AddAttribute(243, "asp-for", "InitialCode");
                __builder2.AddAttribute(244, "b-naojhco0ht");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(245, "\r\n\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(246, "input");
                __builder2.AddAttribute(247, "style", "height:50px; width:500px;");
                __builder2.AddAttribute(248, "id", "InitialAccount");
                __builder2.AddAttribute(249, "type", "number");
                __builder2.AddAttribute(250, "asp-for", "InitialAccount");
                __builder2.AddAttribute(251, "placeholder", "開戶帳號");
                __builder2.AddAttribute(252, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 216 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                                                                   InitialAccount

#line default
#line hidden
#nullable disable
                , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.AddAttribute(253, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => InitialAccount = __value, InitialAccount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddAttribute(254, "b-naojhco0ht");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(255, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(256, "tr");
                __builder2.AddAttribute(257, "b-naojhco0ht");
                __builder2.AddMarkupContent(258, "<td style=\"height:50px; width:175px;\" b-naojhco0ht>銀行地址</td>\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(259, "td");
                __builder2.AddAttribute(260, "b-naojhco0ht");
                __builder2.OpenElement(261, "input");
                __builder2.AddAttribute(262, "style", "height:50px; width:500px;");
                __builder2.AddAttribute(263, "id", "BankAddress");
                __builder2.AddAttribute(264, "type", "text");
                __builder2.AddAttribute(265, "asp-for", "BankAddress");
                __builder2.AddAttribute(266, "placeholder", "銀行地址");
                __builder2.AddAttribute(267, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 222 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                                                          BankAddress

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(268, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => BankAddress = __value, BankAddress));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddAttribute(269, "b-naojhco0ht");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(270, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(271, "tr");
                __builder2.AddAttribute(272, "b-naojhco0ht");
                __builder2.AddMarkupContent(273, "<td style=\"height:50px; width:175px;\" b-naojhco0ht>銀行網頁</td>\r\n\t\t\t\t\t\t\t\t");
                __builder2.OpenElement(274, "td");
                __builder2.AddAttribute(275, "style", "height:50px; width:175px;");
                __builder2.AddAttribute(276, "b-naojhco0ht");
                __builder2.OpenElement(277, "a");
                __builder2.AddAttribute(278, "href", 
#nullable restore
#line 228 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                   selectedBankWeb

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(279, "target", "_blank");
                __builder2.AddAttribute(280, "b-naojhco0ht");
#nullable restore
#line 228 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
__builder2.AddContent(281, bank);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(282, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(283, "tr");
                __builder2.AddAttribute(284, "b-naojhco0ht");
                __builder2.AddMarkupContent(285, "<td style=\"height:50px; width:175px;\" b-naojhco0ht>備註</td>\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(286, "td");
                __builder2.AddAttribute(287, "b-naojhco0ht");
                __builder2.OpenElement(288, "input");
                __builder2.AddAttribute(289, "style", "height:50px; width:175px;");
                __builder2.AddAttribute(290, "id", "remark");
                __builder2.AddAttribute(291, "type", "text");
                __builder2.AddAttribute(292, "asp-for", "remark");
                __builder2.AddAttribute(293, "placeholder", "備註");
                __builder2.AddAttribute(294, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 234 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
                                                                                                remark

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(295, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => remark = __value, remark));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddAttribute(296, "b-naojhco0ht");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 239 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
		}

#line default
#line hidden
#nullable disable
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 243 "C:\Users\013590\source\repos\DBS\DBS\DBS\Pages\AccountRepairData.razor"
       
	bool isEdit = false;
	int editingIndex = -1;
	Dictionary<int, bool> editStates = new Dictionary<int, bool>();

	public class DataSharedVision
	{
		public static int dataVersion { get; set; } = 1;// 初始化一個版本號，可以是時間戳記或其他唯一識別號
	}
	public static int GetDataVersion()
	{
		return DataSharedVision.dataVersion;
	}

	// 在City2Change事件處理程序中調用JavaScript函數
	private async Task City2Change(ChangeEventArgs e)
	{
		// 调用 JavaScript 函数重置分行下拉列表
		await JSRuntime.InvokeVoidAsync("resetBranchDropdown");
	}

	string kkk = "";
	private string GetItemStyle(CityInfo city)
	{
		// 根據特定條件設置樣式
		if (city.IsLargeFont)
		{
			return " font-weight: bold; color: red; ";
		}
		else
		{
			return "font-size: 16px;";
		}
	}
	public List<BranchInfo> selectedBranchList;
	public BankInfo[] selectBankList;
	string selectBank;
	string bank, bankName, bankCode, branch, branchCode, branchCodeFull, branchName, selectedBankWeb;
	public void BankChange(ChangeEventArgs e)
	{
		bank = e.Value?.ToString();
		bankName = e.Value?.ToString().Substring(3);
		bankCode = e.Value?.ToString().Substring(0, 3);
		selectedBankWeb = GetBankWeb(bank);
		branchCode = "";
		switch (bankCode)
		{
			case "004":
				selectedBranchList = BankData.GetBranchList_004();
				break;
			case "005":
				selectedBranchList = BankData.GetBranchList_005();
				break;
			case "006":
				selectedBranchList = BankData.GetBranchList_006();
				break;
			case "007":
				selectedBranchList = BankData.GetBranchList_007();
				break;
			case "008":
				selectedBranchList = BankData.GetBranchList_008();
				break;
			case "009":
				selectedBranchList = BankData.GetBranchList_009();
				break;
			case "011":
				selectedBranchList = BankData.GetBranchList_011();
				break;
			case "012":
				selectedBranchList = BankData.GetBranchList_012();
				break;
			case "013":
				selectedBranchList = BankData.GetBranchList_013();
				break;
			case "015":
				selectedBranchList = BankData.GetBranchList_015();
				break;
			case "016":
				selectedBranchList = BankData.GetBranchList_016();
				break;
			case "017":
				selectedBranchList = BankData.GetBranchList_017();
				break;
			case "018":
				selectedBranchList = BankData.GetBranchList_018();
				break;
			case "021":
				selectedBranchList = BankData.GetBranchList_021();
				break;
			case "040":
				selectedBranchList = BankData.GetBranchList_040();
				break;
			case "048":
				selectedBranchList = BankData.GetBranchList_048();
				break;
			case "050":
				selectedBranchList = BankData.GetBranchList_050();
				break;
			case "052":
				selectedBranchList = BankData.GetBranchList_052();
				break;
			case "053":
				selectedBranchList = BankData.GetBranchList_053();
				break;
			case "054":
				selectedBranchList = BankData.GetBranchList_054();
				break;
			case "081":
				selectedBranchList = BankData.GetBranchList_081();
				break;
			case "101":
				selectedBranchList = BankData.GetBranchList_101();
				break;
			case "102":
				selectedBranchList = BankData.GetBranchList_102();
				break;
			case "103":
				selectedBranchList = BankData.GetBranchList_103();
				break;
			case "108":
				selectedBranchList = BankData.GetBranchList_108();
				break;
			case "147":
				selectedBranchList = BankData.GetBranchList_147();
				break;
			case "803":
				selectedBranchList = BankData.GetBranchList_803();
				break;
			case "805":
				selectedBranchList = BankData.GetBranchList_805();
				break;
			case "806":
				selectedBranchList = BankData.GetBranchList_806();
				break;
			case "807":
				selectedBranchList = BankData.GetBranchList_807();
				break;
			case "808":
				selectedBranchList = BankData.GetBranchList_808();
				break;
			case "809":
				selectedBranchList = BankData.GetBranchList_809();
				break;
			case "810":
				selectedBranchList = BankData.GetBranchList_810();
				break;
			case "812":
				selectedBranchList = BankData.GetBranchList_812();
				break;

			case "816":
				selectedBranchList = BankData.GetBranchList_816();
				break;
			case "822":
				selectedBranchList = BankData.GetBranchList_822();
				break;
		}
	}
	string getBank, lastBankCode, lastBranchCode;
	public void getbank(string bankCode, string branchCode)
	{

		getBank = bankCode + branchCode;
		// Update last values
		lastBankCode = bankCode;
		lastBranchCode = branchCode;
	}
	public static string GetBankWeb(string bank)
	{
		var bankInfo = BankData.GetBankList().Where(item => item.BankCode == @bank)
		.FirstOrDefault();
		return bankInfo?.BankWeb ?? "未找到網頁銀行";
	}
	public void BranchChange(ChangeEventArgs e)
	{
		branch = e.Value.ToString();
		branchName = e.Value.ToString().Substring(7);
		branchCodeFull = e.Value.ToString().Substring(0, 8);
		branchCode = e.Value.ToString().Substring(3, 4);
		// 获取相应的 BranchInfo 对象
		var selectedBranch = selectedBranchList.FirstOrDefault(item => item.BranchCode.ToString().Substring(0, 8) == @branchCodeFull);
		//// 设置 BankAddress
		BankAddress = selectedBranch != null ? selectedBranch.BranchAddress : "未知地址";
	}

	string region;
	public void RegionChange(ChangeEventArgs e)
	{
		region = e.Value.ToString();
	}

	string city;
	public void CityChange(ChangeEventArgs e)
	{
		city = e.Value.ToString();
	}
	string money;

	string BankAddress, remark, InitialMoney, InitialAccount;
	public void MoneyChange(ChangeEventArgs e)
	{
		InitialAccount = e.Value.ToString();
	}


	string datee;
	public AccountRepair[] m_AccountRepairS;//帳戶維護的列表
	public void OnClickSave(MouseEventArgs e)
	{
		datee = DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss");
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataset1 = new DataSet();
		if (string.IsNullOrEmpty(bankName))
		{
			AlertService.Error("請選擇銀行");
			return;
		}
		if (string.IsNullOrEmpty(city))
		{
			AlertService.Error("請選擇地區");
			return;
		}
		if (string.IsNullOrEmpty(branch))
		{
			AlertService.Error("請選擇分行");
			return;
		}
		if (string.IsNullOrEmpty(InitialAccount))
		{
			AlertService.Error("請填寫銀行帳號");
			return;
		}
		m_AccountRepairS = ServerData.m_AccountRepairS.ToArray();
		for (int i = 0; i < m_AccountRepairS.Length; i++)
		{
			if (m_AccountRepairS[i].baccountNo == InitialAccount)
			{
				AlertService.Error("該帳戶已存在");
				return;
			}
		}

		//Insert Into dbo.NewAccountRepair 
		string SQLString = "INSERT INTO dbo.NewAccountRepair ([accountBank],[accountBankNo],[accountBranch], [accountBranchNo], [accountNo], [accountAddress],[accountInitialMoney],[accountInsert],[accountUpdate]) VALUES (	@bankName,@bankCode,@branchName,@branchCode,@InitialAccount,@BankAddress,@InitialMoney,@accountInsert,@accountUpdate)";
		if (sqlconnection.State == System.Data.ConnectionState.Closed)
		{
			//kkk += $"銀行{bankName}銀行代號{bankCode}分行{branchName}分行代號{branchCode}帳號{InitialAccount}地址{BankAddress}";

			//@bankName,@bankCode,@branchName,@branchCode,@InitialAccount,@BankAddress
			sqlconnection.Open();
			SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
			sqlcommand.Parameters.AddWithValue("@bankName", bankName);//銀行
			sqlcommand.Parameters.AddWithValue("@bankCode", bankCode);//銀行代馬
			sqlcommand.Parameters.AddWithValue("@branchName", branchName);//分行
			sqlcommand.Parameters.AddWithValue("@branchCode", branchCode);//分行代碼
			sqlcommand.Parameters.AddWithValue("@InitialAccount", InitialAccount);//帳戶
			sqlcommand.Parameters.AddWithValue("@BankAddress", BankAddress);//地址
			sqlcommand.Parameters.AddWithValue("@InitialMoney", (object)InitialMoney ?? 0);//期初金額
			sqlcommand.Parameters.AddWithValue("@accountInsert", datee);//加入時間
			sqlcommand.Parameters.AddWithValue("@accountUpdate", datee);//更新時間
			int rowsAffected = sqlcommand.ExecuteNonQuery();
			if (rowsAffected > 0)
			{
				AlertService.Success($"成功新增{rowsAffected}條");
				DataVersionService.IncrementDataVersion();
				kkk += DataVersionService.DataVersion.ToString();
				// 清空輸入字段

				InitialAccount = string.Empty;
				BankAddress = string.Empty;
				bankCode = string.Empty;
				branchCode = string.Empty;
				remark = string.Empty;
				showTable_save = false;
				showTable_select = false;
				showTable_selectall = false;
				showTable_selectpart = false;
			}
			else
			{
				AlertService.Error("更新失敗");
			}
			SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
			sqlTransaction.Commit();
		}


	}
	public bool showTable_select = false;
	public bool showTable_save = false;
	public bool showTable_selectall = false;
	public bool showTable_selectpart = false;
	public void OnClickAdd(MouseEventArgs e)
	{
		showTable_save = true;
		showTable_selectall = false;
		showTable_selectpart = false;
		showTable_select = false;
	}

	public void OnClickSelect_All(MouseEventArgs e)
	{
		showTable_select = true;
		showTable_save = false;
		showTable_selectall = true;
		showTable_selectpart = false;
		try
		{
			// 判斷資料庫是否有變動
			if (DataVersionService.DataVersion != 1)
			{
				m_AccountRepairS = Array.Empty<AccountRepair>();
				AccountRepair[] updatedData = UpdateAccountRepairALL();
				m_AccountRepairS = updatedData.ToArray();
			}
			else
			{
				//UpdateNewData();
				if (m_AccountRepairS == null)
				{
					m_AccountRepairS = ServerData.m_AccountRepairS.ToArray();
				}
				else
				{
					m_AccountRepairS = Array.Empty<AccountRepair>();
					m_AccountRepairS = ServerData.m_AccountRepairS.ToArray();
				}
			}
		}
		catch (Exception msg)
		{
			kkk = msg.Message;
		}
		AlertService.Success($"總共查詢到{m_AccountRepairS.Count()}筆資料");
		if (m_AccountRepairS == null)
		{
			AlertService.Warn("尚無資料");
		}

	}

	public DataSet dataset = new DataSet();
	public void UpdateNewDataALL()
	{
		// 將 NewAccount[] 陣列轉換為 List<NewAccount>
		List<AccountRepair> newList = m_AccountRepairS.ToList();
		// 新資料列表
		List<AccountRepair> newDataList = GetAccountRepair();
		// 使用 LINQ 的 Except 方法排除已經存在的資料
		newDataList = newDataList.Except(newList).ToList();
		// 使用 AddRange 將新資料列表添加到現有的列表中
		newList.AddRange(newDataList);
		// 將結果轉換回陣列
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_AccountRepairS = newList.ToArray();
	}

	public List<AccountRepair> GetAccountRepair()//再次抓取資料
	{
		List<AccountRepair> newDataList = new List<AccountRepair>();
		//SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		string connectionString = "Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022";
		string SQLString = "SELECT * FROM NewAccountRepair ";
		dataset = new DataSet();
		using (SqlConnection connection = new SqlConnection(connectionString))
		{
			using (SqlCommand command = new SqlCommand(SQLString, connection))
			{
				try
				{
					connection.Open();

					using (SqlDataReader reader = command.ExecuteReader())
					{
						while (reader.Read())
						{
							AccountRepair newData = new AccountRepair
								{
									// 這裡的屬性賦值根據您的資料表結構進行調整
									baccountBank = reader.GetString(reader.GetOrdinal("accountBank")),
									baccountBankNo = reader.GetString(reader.GetOrdinal("accountBankNo")),
									baccountBranch = reader.GetString(reader.GetOrdinal("accountBranch")),
									baccountBranchNo = reader.GetString(reader.GetOrdinal("accountBranchNo")),
									baccountNo = reader.GetString(reader.GetOrdinal("accountNo")),
									baccountAddress = reader.GetString(reader.GetOrdinal("accountAddress")),
									baccountInitialMoney = reader.IsDBNull(reader.GetOrdinal("accountInitialMoney")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountInitialMoney")),
									bremark = reader.IsDBNull(reader.GetOrdinal("remark")) ? "" : reader.GetString(reader.GetOrdinal("remark")),
									baccountInsert = reader.IsDBNull(reader.GetOrdinal("accountInsert")) ? DateTime.MinValue : reader.GetDateTime(reader.GetOrdinal("accountInsert")),
									baccountUpdate = reader.IsDBNull(reader.GetOrdinal("accountUpdate")) ? DateTime.MinValue : reader.GetDateTime(reader.GetOrdinal("accountUpdate")),

									// 其他屬性...
								};
							newDataList.Add(newData);
						}
					}
				}
				catch (Exception ex)
				{
					kkk += ex.Message;
				}
			}
		}
		return newDataList;
	}

	public DataSet dataset1 = new DataSet();
	public void OnClickDel(int index)
	{
		if (index >= 0 && index < m_AccountRepairS.Length)
		{
			// 1. 在資料庫中刪除資料
			string SQLString = "DELETE FROM dbo.NewAccountRepair WHERE [accountInsert] = @accountInsert AND [accountBankNo] = @bank AND [accountNo] =@accountNo  ";
			SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
			dataset1 = new DataSet();

			if (sqlconnection.State == System.Data.ConnectionState.Closed)
			{
				sqlconnection.Open();
				SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
				sqlcommand.Parameters.AddWithValue("@accountInsert", m_AccountRepairS[index].baccountInsert);
				sqlcommand.Parameters.AddWithValue("@bank", m_AccountRepairS[index].baccountBankNo);
				sqlcommand.Parameters.AddWithValue("@accountNo", m_AccountRepairS[index].baccountNo);
				try
				{
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Info($"成功刪除{rowsAffected}條");
						DataVersionService.IncrementDataVersion();
					}
					else
					{
						AlertService.Warn($"刪除失敗 ");
					}
				}
				catch (Exception ex)
				{
					kkk = ex.Message;
				}
				finally
				{
					sqlconnection.Close();
				}
			}
			// 2. 在本地資料結構中刪除資料
			List<AccountRepair> newDataList = m_AccountRepairS.ToList();
			//要在newDataList.RemoveAt(index)存取accountno2,bankno2,accountinsert2
			//因為這是要存取被刪除資料的帳號、銀行、加入時間
			string accountno2 = m_AccountRepairS[index].baccountNo;
			string bankno2 = m_AccountRepairS[index].baccountBankNo;
			DateTime accountinsert2 = m_AccountRepairS[index].baccountInsert;
			//網頁上刪除該資料
			newDataList.RemoveAt(index);
			//m_NewAccountS變成新的(已刪除掉那筆資料ㄌ)
			m_AccountRepairS = newDataList.ToArray();
			//3.更新資料庫的總額
		}
	}
	public void OnClickSelect(MouseEventArgs e)
	{
		showTable_select = true;
		showTable_selectall = false;
		showTable_save = false;
		showTable_selectpart = true;
		bool bError = false;
		if (string.IsNullOrWhiteSpace(bank))
		{
			bError = true;
			AlertService.Error("請選擇銀行");
		}

		if (bError)
		{
			m_AccountRepairS = null;
			return;
		}
		try
		{
			// 判斷資料庫是否有變動
			if (DataVersionService.DataVersion != 1)
			{
				m_AccountRepairS = Array.Empty<AccountRepair>();
				AccountRepair[] updatedData = UpdateAccountRepairALL();
				m_AccountRepairS = updatedData.Where(item => item.baccountBankNo == bankCode)
																.GroupBy(item => new { item.baccountBank, item.baccountNo })
																.SelectMany(group => group.OrderBy(item => item.baccountInsert))
																.ToArray();
				//m_AccountRepairS.ToArray();
				kkk += "hello";
				showTable_selectpart = false;

			}
			else
			{
				if (m_AccountRepairS == null)
				{
					m_AccountRepairS = ServerData.m_AccountRepairS.Where(item => item.baccountBankNo == bankCode)
																.GroupBy(item => new { item.baccountBank, item.baccountNo })
																.SelectMany(group => group.OrderBy(item => item.baccountInsert))
																.ToArray();
					kkk += "nono";
				}
				else
				{
					m_AccountRepairS = Array.Empty<AccountRepair>();
					//m_AccountRepairS = ServerData.m_AccountRepairS.ToArray();
					m_AccountRepairS = ServerData.m_AccountRepairS.Where(item => item.baccountBankNo == bankCode)
																.GroupBy(item => new { item.baccountBank, item.baccountNo })
																.SelectMany(group => group.OrderBy(item => item.baccountInsert))
																.ToArray();
					kkk += "peace";
				}
			}
		}
		catch (Exception msg)
		{
			kkk = msg.Message;
		}
		AlertService.Success($"總共查詢到{m_AccountRepairS.Count()}筆資料");
		if (m_AccountRepairS == null)
		{
			AlertService.Warn("尚無資料");
		}
	}

	public void UpdateNewDataPart()
	{
		// 將 NewAccount[] 陣列轉換為 List<NewAccount>
		List<AccountRepair> newList = m_AccountRepairS.ToList();
		// 新資料列表
		List<AccountRepair> newDataList = GetAccountRepair();
		// 使用 LINQ 的 Except 方法排除已經存在的資料
		newDataList = newDataList.Except(newList).ToList();
		// 使用 AddRange 將新資料列表添加到現有的列表中
		newList.AddRange(newDataList);
		// 將結果轉換回陣列
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_AccountRepairS = newList.Where(item => item.baccountBankNo == bankCode)
		.GroupBy(item => new { item.baccountBank, item.baccountNo })
		.SelectMany(group => group)
		.ToArray();
	}

	public AccountRepair[] UpdateAccountRepairALL()
	//專門給選擇銀行後跳出對應帳戶用的更新資料(有時候可能會先使用銀行維護去新增資料，這時候就要用他嚕)
	{
		// 新資料列表
		List<AccountRepair> newDataList = GetAccountRepair();
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_AccountRepairS = newDataList.ToArray();
		kkk += "hello";
		return m_AccountRepairS;

	}
	public void OnClickCancel(MouseEventArgs e)
	{
		showTable_save = false;
		showTable_select = false;
		showTable_selectall = false;
		showTable_selectpart = false;
	}
	public void UpdateNewDataPart2()
	{
		List<AccountRepair> newList = m_AccountRepairS != null ? m_AccountRepairS.ToList() : new List<AccountRepair>();
		List<AccountRepair> newDataList = GetAccountRepair();
		newDataList = newDataList.Except(newList).ToList();
		newList.AddRange(newDataList);
		m_AccountRepairS = newList.Where(item => item.baccountBankNo == bankCode)
								.GroupBy(item => new { item.baccountBank, item.baccountNo })
								.SelectMany(group => group)
								.ToArray();
		kkk += "hello";
	}


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DataVersionService DataVersionService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAlertService AlertService { get; set; }
    }
}
#pragma warning restore 1591
