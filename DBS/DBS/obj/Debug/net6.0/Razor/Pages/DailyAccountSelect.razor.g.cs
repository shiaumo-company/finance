#pragma checksum "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor" "{8829d00f-11b8-4213-878b-770e8597ac16}" "71fbcb804ca6e1d8ad257937db44ef9b1c1d122289ff536522c1edefe9ff91bf"
// <auto-generated/>
#pragma warning disable 1591
namespace DBS.Pages
{
    #line hidden
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using DBS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\_Imports.razor"
using DBS.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using System.Data.SqlClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using DBS.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using DBS.Pages;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using DBS.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using X.PagedList;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using System.Collections.Generic;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
using Blazorise.Components;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/DailyAccountSelect/{subBank2}/{subAccount}")]
    public partial class DailyAccountSelect : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<head b-oek14bx5h9><link href=\"styles/site.css\" rel=\"stylesheet\" b-oek14bx5h9></head>\r\n");
            __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(1);
            __builder.AddAttribute(2, "Authorized", (global::Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.OpenElement(3, "h3");
                __builder2.AddAttribute(4, "b-oek14bx5h9");
#nullable restore
#line (22,8)-(22,50) 25 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(5, subBank2.Substring(0, subBank2.Length - 3));

#line default
#line hidden
#nullable disable
                __builder2.AddContent(6, " ");
#nullable restore
#line (22,52)-(22,62) 25 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(7, subAccount);

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(8, " 查詢資料");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(9, "\r\n\t\t\t");
                __builder2.OpenElement(10, "table");
                __builder2.AddAttribute(11, "class", "table");
                __builder2.AddAttribute(12, "style", "text-align:right; margin-top:20px;");
                __builder2.AddAttribute(13, "b-oek14bx5h9");
                __builder2.OpenElement(14, "thead");
                __builder2.AddAttribute(15, "b-oek14bx5h9");
#nullable restore
#line 25 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
     if (!isAdd)
				{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(16, "tr");
                __builder2.AddAttribute(17, "class", "form-field");
                __builder2.AddAttribute(18, "b-oek14bx5h9");
                __builder2.AddMarkupContent(19, "<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(20, "<td b-oek14bx5h9>開始日期</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(21, "td");
                __builder2.AddAttribute(22, "b-oek14bx5h9");
                __builder2.OpenElement(23, "input");
                __builder2.AddAttribute(24, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(25, "type", "date");
                __builder2.AddAttribute(26, "value", 
#nullable restore
#line 31 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                       editDateMin

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(27, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 31 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                                              BeginDateChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(28, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(29, "\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(30, "<td b-oek14bx5h9>結束日期</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(31, "td");
                __builder2.AddAttribute(32, "b-oek14bx5h9");
                __builder2.OpenElement(33, "input");
                __builder2.AddAttribute(34, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(35, "type", "date");
                __builder2.AddAttribute(36, "value", 
#nullable restore
#line 33 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                       editDateMax

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(37, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 33 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                                              EndDateChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(38, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(39, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(40, "td");
                __builder2.AddAttribute(41, "b-oek14bx5h9");
                __builder2.OpenElement(42, "button");
                __builder2.AddAttribute(43, "id", "Select_btn");
                __builder2.AddAttribute(44, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 34 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                            OnClickSelect

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(45, "class", "btn_select");
                __builder2.AddAttribute(46, "b-oek14bx5h9");
                __builder2.AddMarkupContent(47, "查詢");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(48, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(49, "td");
                __builder2.AddAttribute(50, "b-oek14bx5h9");
                __builder2.OpenElement(51, "button");
                __builder2.AddAttribute(52, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 35 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                            OnClickAdd2

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(53, "class", "btn_add");
                __builder2.AddAttribute(54, "b-oek14bx5h9");
                __builder2.AddMarkupContent(55, "新增");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(56, "\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>");
                __builder2.CloseElement();
#nullable restore
#line 38 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
				}
				else
				{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(57, "tr");
                __builder2.AddAttribute(58, "class", "form-field");
                __builder2.AddAttribute(59, "b-oek14bx5h9");
                __builder2.AddMarkupContent(60, "<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(61, "td");
                __builder2.AddAttribute(62, "b-oek14bx5h9");
                __builder2.OpenElement(63, "button");
                __builder2.AddAttribute(64, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 46 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                            OnClickCancel

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(65, "class", "btn_cancel");
                __builder2.AddAttribute(66, "b-oek14bx5h9");
                __builder2.AddMarkupContent(67, "取消新增");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(68, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(69, "td");
                __builder2.AddAttribute(70, "b-oek14bx5h9");
                __builder2.OpenElement(71, "button");
                __builder2.AddAttribute(72, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 47 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                            OnClickSave

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(73, "class", "btn_save");
                __builder2.AddAttribute(74, "b-oek14bx5h9");
                __builder2.AddMarkupContent(75, "儲存");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(76, "\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(77, "\r\n\t\t\t\t\t");
                __builder2.OpenElement(78, "tr");
                __builder2.AddAttribute(79, "class", "form-field");
                __builder2.AddAttribute(80, "b-oek14bx5h9");
                __builder2.AddMarkupContent(81, "<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(82, "<td style=\"height: 30px; width :100px;\" b-oek14bx5h9>交易日期</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(83, "td");
                __builder2.AddAttribute(84, "b-oek14bx5h9");
                __builder2.OpenElement(85, "input");
                __builder2.AddAttribute(86, "style", "height: 30px; width :175px;");
                __builder2.AddAttribute(87, "type", "date");
                __builder2.AddAttribute(88, "value", 
#nullable restore
#line 57 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                       todatee

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(89, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 57 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                                          EditDateChange 

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(90, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(91, "\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(92, "<td b-oek14bx5h9>銀行</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(93, "td");
                __builder2.AddAttribute(94, "b-oek14bx5h9");
                __builder2.OpenElement(95, "input");
                __builder2.AddAttribute(96, "readonly");
                __builder2.AddAttribute(97, "value", 
#nullable restore
#line 59 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                 subBank2.Substring(0, subBank2.Length - 3)

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(98, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(99, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(100, "\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(101, "<td b-oek14bx5h9>我的帳號</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(102, "td");
                __builder2.AddAttribute(103, "b-oek14bx5h9");
                __builder2.OpenElement(104, "input");
                __builder2.AddAttribute(105, "readonly");
                __builder2.AddAttribute(106, "value", 
#nullable restore
#line 61 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                  subAccount

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(107, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(108, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(109, "\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(110, "<td b-oek14bx5h9>付款方式</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(111, "td");
                __builder2.AddAttribute(112, "b-oek14bx5h9");
                __builder2.OpenElement(113, "select");
                __builder2.AddAttribute(114, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(115, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 64 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                             MoneyChange

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(116, "b-oek14bx5h9");
                __builder2.OpenElement(117, "option");
                __builder2.AddAttribute(118, "value");
                __builder2.AddAttribute(119, "disabled");
                __builder2.AddAttribute(120, "selected");
                __builder2.AddAttribute(121, "b-oek14bx5h9");
                __builder2.AddMarkupContent(122, "請選擇方式");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(123, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(124, "option");
                __builder2.AddAttribute(125, "b-oek14bx5h9");
                __builder2.AddMarkupContent(126, "現金");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(127, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(128, "option");
                __builder2.AddAttribute(129, "b-oek14bx5h9");
                __builder2.AddMarkupContent(130, "支票");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(131, "\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(132, "\r\n\t\t\t\t\t");
                __builder2.OpenElement(133, "tr");
                __builder2.AddAttribute(134, "class", "form-field");
                __builder2.AddAttribute(135, "b-oek14bx5h9");
                __builder2.AddMarkupContent(136, "<td b-oek14bx5h9></td>\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(137, "<td b-oek14bx5h9>收入</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(138, "td");
                __builder2.AddAttribute(139, "b-oek14bx5h9");
                __builder2.OpenElement(140, "input");
                __builder2.AddAttribute(141, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(142, "id", "accountIn");
                __builder2.AddAttribute(143, "type", "text");
                __builder2.AddAttribute(144, "asp-for", "accountIn");
                __builder2.AddAttribute(145, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 75 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                                                          accountIn

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(146, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => accountIn = __value, accountIn));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddAttribute(147, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(148, "\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(149, "<td b-oek14bx5h9>支出</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(150, "td");
                __builder2.AddAttribute(151, "b-oek14bx5h9");
                __builder2.OpenElement(152, "input");
                __builder2.AddAttribute(153, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(154, "id", "accountOut");
                __builder2.AddAttribute(155, "type", "text");
                __builder2.AddAttribute(156, "asp-for", "accountOut");
                __builder2.AddAttribute(157, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 77 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                                                            accountOut

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(158, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => accountOut = __value, accountOut));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddAttribute(159, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(160, "\r\n\t\t\t\t\t\t");
                __builder2.AddMarkupContent(161, "<td b-oek14bx5h9>對方帳號</td>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(162, "input");
                __builder2.AddAttribute(163, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(164, "type", "text");
                __builder2.AddAttribute(165, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 80 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                                             OnInput

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(166, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 80 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                   accountOtherNo

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(167, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => accountOtherNo = __value, accountOtherNo));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddAttribute(168, "b-oek14bx5h9");
                __builder2.CloseElement();
#nullable restore
#line 81 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
        if (ShowSuggestions)
							{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(169, "select");
                __builder2.AddAttribute(170, "style", "height: 30px;width :175px;");
                __builder2.AddAttribute(171, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 83 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                              SelectSuggestionFromDropdown

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(172, "b-oek14bx5h9");
                __builder2.OpenElement(173, "option");
                __builder2.AddAttribute(174, "value");
                __builder2.AddAttribute(175, "disabled");
                __builder2.AddAttribute(176, "selected");
                __builder2.AddAttribute(177, "b-oek14bx5h9");
                __builder2.AddMarkupContent(178, "請選擇建議");
                __builder2.CloseElement();
#nullable restore
#line 85 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
          foreach (var suggestion in Suggestions)
									{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(179, "option");
                __builder2.AddAttribute(180, "b-oek14bx5h9");
#nullable restore
#line (87,20)-(87,30) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(181, suggestion);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 88 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
									}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 90 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
							}		

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(182, "<td b-oek14bx5h9>備註</td>\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(183, "td");
                __builder2.AddAttribute(184, "b-oek14bx5h9");
                __builder2.OpenElement(185, "input");
                __builder2.AddAttribute(186, "style", "height:30px; width:175px;");
                __builder2.AddAttribute(187, "id", "remark");
                __builder2.AddAttribute(188, "type", "text");
                __builder2.AddAttribute(189, "asp-for", "remark");
                __builder2.AddAttribute(190, "placeholder", "備註");
                __builder2.AddAttribute(191, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 92 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                                                   remark

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(192, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => remark = __value, remark));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.AddAttribute(193, "b-oek14bx5h9");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(194, "\r\n\t\t\t\t\t\t<td b-oek14bx5h9></td>");
                __builder2.CloseElement();
#nullable restore
#line 95 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
				}

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(195, @"<tr class=""field-tr"" b-oek14bx5h9><th style=""text-align:center"" b-oek14bx5h9>交易日期</th>
				<th b-oek14bx5h9>方式</th>
				<th style=""text-align:right;"" b-oek14bx5h9>收入</th>
				<th style=""text-align:right;"" b-oek14bx5h9>支出</th>
				<th colspan=""2"" b-oek14bx5h9>結存餘額</th>
				<th colspan=""2"" b-oek14bx5h9>對方帳號</th>
				<th colspan=""2"" b-oek14bx5h9>備註</th></tr>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(196, "\r\n\t\t");
                __builder2.OpenElement(197, "tbody");
                __builder2.AddAttribute(198, "b-oek14bx5h9");
#nullable restore
#line 107 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
     if (m_NewAccountS != null)
				{
					

#line default
#line hidden
#nullable disable
#nullable restore
#line 109 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
      foreach (var account in PagedList)
					{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(199, "tr");
                __builder2.AddAttribute(200, "onmouseover", "this.style.backgroundColor=\'rgba(184,193,236,0.6)\';this.style.color=\'#350E51\';");
                __builder2.AddAttribute(201, "onmouseout", "this.style.backgroundColor=\'#FFFFFE\';");
                __builder2.AddAttribute(202, "b-oek14bx5h9");
                __builder2.OpenElement(203, "td");
                __builder2.AddAttribute(204, "style", "text-align:center");
                __builder2.AddAttribute(205, "b-oek14bx5h9");
#nullable restore
#line (112,39)-(112,79) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(206, account.baccountDate.ToShortDateString());

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(207, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(208, "td");
                __builder2.AddAttribute(209, "b-oek14bx5h9");
#nullable restore
#line (113,13)-(113,33) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(210, account.baccountType);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(211, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(212, "td");
                __builder2.AddAttribute(213, "style", "text-align:right;");
                __builder2.AddAttribute(214, "b-oek14bx5h9");
#nullable restore
#line (114,39)-(114,57) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(215, account.baccountIn);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(216, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(217, "td");
                __builder2.AddAttribute(218, "style", "text-align:right;");
                __builder2.AddAttribute(219, "b-oek14bx5h9");
#nullable restore
#line (115,39)-(115,58) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(220, account.baccountOut);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(221, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(222, "td");
                __builder2.AddAttribute(223, "colspan", "2");
                __builder2.AddAttribute(224, "b-oek14bx5h9");
#nullable restore
#line (116,23)-(116,44) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(225, account.baccountTotal);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(226, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(227, "td");
                __builder2.AddAttribute(228, "colspan", "2");
                __builder2.AddAttribute(229, "b-oek14bx5h9");
#nullable restore
#line (117,23)-(117,46) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(230, account.baccountOtherNo);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(231, "\r\n\t\t\t\t\t\t\t");
                __builder2.OpenElement(232, "td");
                __builder2.AddAttribute(233, "colspan", "2");
                __builder2.AddAttribute(234, "b-oek14bx5h9");
#nullable restore
#line (118,23)-(118,38) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(235, account.bremark);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 120 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
					}

#line default
#line hidden
#nullable disable
#nullable restore
#line 120 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
      
				}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(236, "\r\n\t\t\t");
                __builder2.OpenElement(237, "tfoot");
                __builder2.AddAttribute(238, "b-oek14bx5h9");
                __builder2.OpenElement(239, "tr");
                __builder2.AddAttribute(240, "b-oek14bx5h9");
                __builder2.OpenElement(241, "td");
                __builder2.AddAttribute(242, "colspan", "9");
                __builder2.AddAttribute(243, "b-oek14bx5h9");
                __builder2.OpenElement(244, "div");
                __builder2.AddAttribute(245, "class", "pager");
                __builder2.AddAttribute(246, "b-oek14bx5h9");
#nullable restore
#line 127 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
        if (PagedList.PageCount > 1)
							{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(247, "button");
                __builder2.AddAttribute(248, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 129 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                           (() => LoadPage(1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(249, "class", "first_selected");
                __builder2.AddAttribute(250, "b-oek14bx5h9");
                __builder2.AddMarkupContent(251, "<i class=\"fas fa-angle-double-left\" b-oek14bx5h9></i>&nbsp第一頁");
                __builder2.CloseElement();
#nullable restore
#line 130 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
         if (PagedList.PageNumber == 1)
								{	

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(252, "button");
                __builder2.AddAttribute(253, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 132 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                             (() => LoadPage(1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(254, "class", "previous_selected");
                __builder2.AddAttribute(255, "b-oek14bx5h9");
                __builder2.AddMarkupContent(256, "<i class=\"fas fa-angle-left\" b-oek14bx5h9></i>&nbsp上一頁");
                __builder2.CloseElement();
#nullable restore
#line 133 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
								}
								else
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(257, "button");
                __builder2.AddAttribute(258, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 136 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                             (() => LoadPage(PagedList.PageNumber - 1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(259, "class", "previous_selected");
                __builder2.AddAttribute(260, "b-oek14bx5h9");
                __builder2.AddMarkupContent(261, "<i class=\"fas fa-angle-left\" b-oek14bx5h9></i>&nbsp上一頁");
                __builder2.CloseElement();
#nullable restore
#line 137 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
								}

#line default
#line hidden
#nullable disable
#nullable restore
#line 137 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
         
							}

#line default
#line hidden
#nullable disable
#nullable restore
#line 139 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
        if (PagedList.PageCount <= 9)
							{
								

#line default
#line hidden
#nullable disable
#nullable restore
#line 141 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
         foreach (var pageNumber in Enumerable.Range(1, PagedList.PageCount))
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(262, "button");
                __builder2.AddAttribute(263, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 143 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                              (() => LoadPage(pageNumber))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(264, "class", 
#nullable restore
#line 143 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                     pageNumber == PagedList.PageNumber ? "selected" : "non_selected"

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(265, "b-oek14bx5h9");
#nullable restore
#line (143,138)-(143,148) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(266, pageNumber);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 144 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
								}

#line default
#line hidden
#nullable disable
#nullable restore
#line 144 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
         
							}
							else
							{
								var startPage = Math.Max(1, PagedList.PageNumber - 4);
								var endPage = Math.Min(PagedList.PageNumber + 4, PagedList.PageCount);

								

#line default
#line hidden
#nullable disable
#nullable restore
#line 151 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
         foreach (var pageNumber in Enumerable.Range(startPage, endPage - startPage + 1))
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(267, "button");
                __builder2.AddAttribute(268, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 153 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                             (() => LoadPage(pageNumber))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(269, "class", 
#nullable restore
#line 153 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                                                                    pageNumber == PagedList.PageNumber ? "selected" : "non_selected"

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(270, "b-oek14bx5h9");
#nullable restore
#line (153,137)-(153,147) 27 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
__builder2.AddContent(271, pageNumber);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 154 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
								}

#line default
#line hidden
#nullable disable
#nullable restore
#line 154 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
         
							}

#line default
#line hidden
#nullable disable
#nullable restore
#line 156 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
        if (PagedList.PageCount > 1)
							{
								

#line default
#line hidden
#nullable disable
#nullable restore
#line 158 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
         if (PagedList.PageNumber == PagedList.PageCount)
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(272, "button");
                __builder2.AddAttribute(273, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 160 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                               (() => LoadPage(PagedList.PageCount))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(274, "class", "next_selected");
                __builder2.AddAttribute(275, "b-oek14bx5h9");
                __builder2.AddMarkupContent(276, "下一頁&nbsp<i class=\"fas fa-angle-double-right\" b-oek14bx5h9></i>");
                __builder2.CloseElement();
#nullable restore
#line 161 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
								}
								else
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(277, "button");
                __builder2.AddAttribute(278, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 164 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                              (() => LoadPage(PagedList.PageNumber +1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(279, "class", "next_selected");
                __builder2.AddAttribute(280, "b-oek14bx5h9");
                __builder2.AddMarkupContent(281, "下一頁&nbsp<i class=\"fas fa-angle-double-right\" b-oek14bx5h9></i>");
                __builder2.CloseElement();
#nullable restore
#line 165 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
								}

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(282, "button");
                __builder2.AddAttribute(283, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 166 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
                            (() => LoadPage(PagedList.PageCount))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(284, "class", "last_selected");
                __builder2.AddAttribute(285, "b-oek14bx5h9");
                __builder2.AddMarkupContent(286, "最末頁&nbsp<i class=\"fas fa-angle-double-right\" b-oek14bx5h9></i>");
                __builder2.CloseElement();
#nullable restore
#line 167 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
							}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 176 "C:\Users\013590\source\repos\DBS\DBS_240313_2\DBS\DBS\Pages\DailyAccountSelect.razor"
       
	protected override void OnInitialized()
	{
		//調用確保被填充
		GetDataFromDatabase2();
	}
	// 輸入框中的字詞
	private string accountOtherNo { get; set; } = "";

	// 是否show出建議列表
	private bool ShowSuggestions { get; set; } = false;

	// 建議列表的list
	private List<string> Suggestions { get; set; } = new List<string>();

	// 數據來源
	private List<string> Data { get; set; } = new List<string>();

	public void GetDataFromDatabase2()
	{

		string connectionString = "Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022";

		string SQLString = "SELECT DISTINCT accountOtherNo FROM NewAccountInfo;";//只挑不重複的值

		using (SqlConnection connection = new SqlConnection(connectionString))
		{ 
			using (SqlCommand command = new SqlCommand(SQLString, connection))
			{

				connection.Open();

				using (SqlDataReader reader = command.ExecuteReader())
				{
					while (reader.Read())
					{

						string accountOtherNo = reader.GetString(reader.GetOrdinal("accountOtherNo"));
						Data.Add(accountOtherNo);
					}
				}
			}
		}
	}
	//bool,用於追蹤是否獲取數據了
	private bool dataRetrieved = false;
	// 處理輸入事件
	private void OnInput(ChangeEventArgs args)
	{
		// 只有版本被更新以及dataRetrieved不同時才會啟用
		if (DataVersionService.DataVersion != 1 )
		{
			GetDataFromDatabase2();
			dataRetrieved = true;
		}
		accountOtherNo = args.Value?.ToString() ?? "";
		UpdateSuggestions();
	}
	// 更新建议列表
	private void UpdateSuggestions()
	{
		if (string.IsNullOrWhiteSpace(accountOtherNo))
		{
			Suggestions.Clear();
			ShowSuggestions = false;
			return;
		}
		Suggestions = Data
			.Where(item => item.ToLower().StartsWith(accountOtherNo.ToLower()))
			.Distinct()
			.ToList();
		ShowSuggestions = Suggestions.Any();
	}
	// 选择建议
	private void SelectSuggestion(string suggestion)
	{
		accountOtherNo = suggestion;
		ShowSuggestions = false;
	}

	private void SelectSuggestionFromDropdown(ChangeEventArgs args)
	{
		string selectedSuggestion = args.Value?.ToString();
		if (!string.IsNullOrWhiteSpace(selectedSuggestion))
		{
			accountOtherNo = selectedSuggestion;
			ShowSuggestions = false;
			dataRetrieved = false;
		}
	}


	private NewAccount[] m_NewAccountS { get; set; }
	private AccountRepair[] m_AccountRepairS { get; set; }
	private IPagedList<NewAccount> PagedList { get; set; }
	private const int PageSize = 12;
	[Parameter]
	public string subAccount { get; set; }
	[Parameter]
	public string subBank2 { get; set; }

	string kkk = "";
	String editDateMin, editDateMax;
	DateTime  editDateMin_dt, editDateMax_dt;
	int currentMonth;

	DateTime accountInsert;
	string money;
	public void MoneyChange(ChangeEventArgs e)
	{
		money = e.Value.ToString();
	}

	string bank, bankName, bankCode;
	public void BankChange(ChangeEventArgs e)
	{
		bank = e.Value.ToString();
		bankName = e.Value.ToString().Substring(3);
		bankCode = e.Value.ToString().Substring(0, 3);
	}
	string bank2, bankName2, bankCode2;
	public void BankChangeOther(ChangeEventArgs e)
	{
		bank2 = e.Value.ToString();
		bankName2 = e.Value.ToString().Substring(3);
		bankCode2 = e.Value.ToString().Substring(0, 3);
	}
	string account;
	string previousAccount;// 新增變數用來存儲上一次的 account
	public void AccountChange(ChangeEventArgs e)
	{
		account = e.Value?.ToString();
	}
	DateTime beginDate;
	public void BeginDateChange(ChangeEventArgs e)
	{
		beginDate = Convert.ToDateTime(e.Value);
	}
	DateTime endDate;
	public void EndDateChange(ChangeEventArgs e)
	{
		endDate = Convert.ToDateTime(e.Value);
	}
	DateTime editDate;
	public void EditDateChange(ChangeEventArgs e)
	{
		editDate = Convert.ToDateTime(e.Value);
	}

	protected override async Task OnParametersSetAsync()
	{
		await base.OnParametersSetAsync();

		// 执行需要在参数变化时进行的逻辑
		OnClickSelect();

		LoadPage(1);
		// 初始化 editDate 為今天的日期
		editDate = DateTime.Today;
		// 獲取今天的月份
		currentMonth = editDate.Month;
		switch (currentMonth.ToString())
		{
			case "1":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-31";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "2":
				string yearString = editDate.ToString("yyyy");
				int year = int.Parse(yearString);
				if ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0))
				{
					editDateMin = editDate.ToString("yyyy-MM") + "-01";
					editDateMax = editDate.ToString("yyyy-MM") + "-29";
					editDateMin_dt = DateTime.Parse(editDateMin);
					editDateMax_dt = DateTime.Parse(editDateMax);
				}
				else
				{
					editDateMin = editDate.ToString("yyyy-MM") + "-01";
					editDateMax = editDate.ToString("yyyy-MM") + "-28";
					editDateMin_dt = DateTime.Parse(editDateMin);
					editDateMax_dt = DateTime.Parse(editDateMax);
				}
				break;
			case "3":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-31";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "4":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-30";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "5":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-31";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "6":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-30";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "7":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-31";
				break;
			case "8":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-31";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "9":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-30";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "10":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-31";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "11":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-30";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
			case "12":
				editDateMin = editDate.ToString("yyyy-MM") + "-01";
				editDateMax = editDate.ToString("yyyy-MM") + "-31";
				editDateMin_dt = DateTime.Parse(editDateMin);
				editDateMax_dt = DateTime.Parse(editDateMax);
				break;
		}

	}

	private void LoadPage(int pageNumber)
	{
		PagedList = m_NewAccountS.ToPagedList(pageNumber, PageSize);
	}

	private void HandlePageChange(int newPageNumber)
	{
		LoadPage(newPageNumber);
	}

	public void OnClickSelect()
	{
		bool bError = false;
		if (bError)
		{
			m_NewAccountS = null;
			return;
		}
		try
		{
			// 判斷資料庫是否有變動
			if (DataVersionService.DataVersion != 1)
			{
				m_NewAccountS = Array.Empty<NewAccount>();
				UpdateNewDataPart();
			}
			else
			{
				if (m_NewAccountS == null)
				{
					m_NewAccountS = ServerData.m_NewAccountS.Where(item => item.baccountBank == subBank2.Substring(0, subBank2.Length - 3) && item.baccountNo == subAccount && ((beginDate == default(DateTime) ? item.baccountDate >= editDateMin_dt : item.baccountDate >= beginDate)) && ((endDate == default(DateTime) ? item.baccountDate <= editDateMax_dt : item.baccountDate <= endDate)))
					.GroupBy(item => item.baccountNo) // 按帳號分組
					.Select(group => group.OrderBy(item => item.baccountBank)
										.ThenBy(item => item.baccountNo)
										.ThenBy(item => item.baccountDate)
										.ThenBy(item => item.baccountInsert))
					.SelectMany(sortedGroup => sortedGroup).ToArray();
					LoadPage(1);

				}
				else
				{
					//m_NewAccountS = Array.Empty<NewAccount>();
					m_NewAccountS = ServerData.m_NewAccountS.ToArray();
					m_NewAccountS = ServerData.m_NewAccountS.Where(item => item.baccountBank == subBank2.Substring(0, subBank2.Length - 3) && item.baccountNo == subAccount && ((beginDate == default(DateTime) ? item.baccountDate >= editDateMin_dt : item.baccountDate >= beginDate)) && ((endDate == default(DateTime) ? item.baccountDate <= editDateMax_dt : item.baccountDate <= endDate)))
					.GroupBy(item => item.baccountNo) // 按帳號分組
					.Select(group => group.OrderBy(item => item.baccountBank)
											.ThenBy(item => item.baccountNo)
											.ThenBy(item => item.baccountDate)
											.ThenBy(item => item.baccountInsert))
					.SelectMany(sortedGroup => sortedGroup).ToArray();
					LoadPage(1);
				}
			}
		}
		catch (Exception msg)
		{
			kkk = msg.Message;
		}
		AlertService.Success($"總共查詢到{m_NewAccountS.Count()}筆資料");
		if (m_NewAccountS == null)
		{
			AlertService.Warn("尚無資料");
		}
	}
	public void UpdateNewDataPart()
	{
		// 將 NewAccount[] 陣列轉換為 List<NewAccount>
		List<NewAccount> newList = m_NewAccountS.ToList();
		// 新資料列表
		List<NewAccount> newDataList = GetNewData();
		// 使用 LINQ 的 Except 方法排除已經存在的資料
		newDataList = newDataList.Except(newList).ToList();
		// 使用 AddRange 將新資料列表添加到現有的列表中
		newList.AddRange(newDataList);
		// 將結果轉換回陣列
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_NewAccountS = newList.Where(item => item.baccountBank == subBank2.Substring(0, subBank2.Length - 3) && item.baccountNo == subAccount && ((beginDate == default(DateTime) ? item.baccountDate >= editDateMin_dt : item.baccountDate >= beginDate)) && ((endDate == default(DateTime) ? item.baccountDate <= editDateMax_dt : item.baccountDate <= endDate)))
		.GroupBy(item => item.baccountNo) // 按帳號分組
		.Select(group => group.OrderBy(item => item.baccountBank)
							.ThenBy(item => item.baccountNo)
							.ThenBy(item => item.baccountDate)
							.ThenBy(item => item.baccountInsert))
		.SelectMany(sortedGroup => sortedGroup).ToArray();
		LoadPage(1);


	}

	public NewAccount[] UpdateNewDataALL2()
	{
		// 將 NewAccount[] 陣列轉換為 List<NewAccount>
		List<NewAccount> newList = ServerData.m_NewAccountS.ToList();
		// 新資料列表
		List<NewAccount> newDataList = GetNewData();
		// 使用 LINQ 的 Except 方法排除已經存在的資料
		newDataList = newDataList.Except(newList).ToList();
		// 使用 AddRange 將新資料列表添加到現有的列表中
		newList.AddRange(newDataList);
		// 將結果轉換回陣列
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_NewAccountS = newDataList.ToArray();
		return m_NewAccountS;
	}

	public DataSet dataset = new DataSet();
	public List<NewAccount> GetNewData()//再次抓取資料
	{
		List<NewAccount> newDataList = new List<NewAccount>();
		//SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		string connectionString = "Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022";
		string SQLString = "SELECT ROW_NUMBER() OVER (PARTITION　BY accountBank, accountNo ORDER BY  accountDate ASC )  , * FROM NewAccountInfo; ";
		dataset = new DataSet();
		using (SqlConnection connection = new SqlConnection(connectionString))
		{
			using (SqlCommand command = new SqlCommand(SQLString, connection))
			{
				connection.Open();
				using (SqlDataReader reader = command.ExecuteReader())
				{
					while (reader.Read())
					{
						NewAccount newData = new NewAccount
							{
								// 這裡的屬性賦值根據您的資料表結構進行調整
								baccountDate = reader.GetDateTime(reader.GetOrdinal("accountDate")),
								baccountBank = reader.GetString(reader.GetOrdinal("accountBank")),
								baccountBankNo = reader.GetString(reader.GetOrdinal("accountBankNo")),
								baccountBranch = reader.GetString(reader.GetOrdinal("accountBranch")),
								baccountBranchNo = reader.GetString(reader.GetOrdinal("accountBranchNo")),
								baccountNo = reader.GetString(reader.GetOrdinal("accountNo")),
								baccountType = reader.GetString(reader.GetOrdinal("accountType")),
								baccountIn = reader.IsDBNull(reader.GetOrdinal("accountIn")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountIn")),
								baccountOut = reader.IsDBNull(reader.GetOrdinal("accountOut")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountOut")),
								baccountTotal = reader.IsDBNull(reader.GetOrdinal("accountTotal")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountTotal")),
								baccountOtherNo = reader.GetString(reader.GetOrdinal("accountOtherNo")),
								baccountAddress = reader.GetString(reader.GetOrdinal("accountAddress")),
								bremark = reader.IsDBNull(reader.GetOrdinal("remark")) ? "" : reader.GetString(reader.GetOrdinal("remark")),
								baccountInsert = reader.GetDateTime(reader.GetOrdinal("accountInsert")),
								baccountUpdate = reader.IsDBNull(reader.GetOrdinal("accountUpdate")) ? DateTime.MinValue : reader.GetDateTime(reader.GetOrdinal("accountUpdate")),
								// 其他屬性...
							};
						newDataList.Add(newData);
					}
				}
			}
			return newDataList;
		}
	}

	public AccountRepair[] UpdateAccountRepairALL()
	//專門給選擇銀行後跳出對應帳戶用的更新資料(有時候可能會先使用銀行維護去新增資料，這時候就要用他嚕)
	{
		// 將 NewAccount[] 陣列轉換為 List<NewAccount>
		List<AccountRepair> newList = ServerData.m_AccountRepairS.ToList();
		// 新資料列表
		List<AccountRepair> newDataList = GetAccountRepair();
		// 使用 LINQ 的 Except 方法排除已經存在的資料
		newDataList = newDataList.Except(newList).ToList();
		// 使用 AddRange 將新資料列表添加到現有的列表中
		newList.AddRange(newDataList);
		// 將結果轉換回陣列
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_AccountRepairS = newList.ToArray();
		return m_AccountRepairS;
	}

	public List<AccountRepair> GetAccountRepair()//再次抓取資料
	{
		List<AccountRepair> newDataList = new List<AccountRepair>();
		//SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		string connectionString = "Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022";
		string SQLString = "SELECT * FROM NewAccountRepair ";
		dataset = new DataSet();
		using (SqlConnection connection = new SqlConnection(connectionString))
		{
			using (SqlCommand command = new SqlCommand(SQLString, connection))
			{
				try
				{
					connection.Open();

					using (SqlDataReader reader = command.ExecuteReader())
					{
						while (reader.Read())
						{
							AccountRepair newData = new AccountRepair
								{
									// 這裡的屬性賦值根據您的資料表結構進行調整
									baccountBank = reader.GetString(reader.GetOrdinal("accountBank")),
									baccountBankNo = reader.GetString(reader.GetOrdinal("accountBankNo")),
									baccountBranch = reader.GetString(reader.GetOrdinal("accountBranch")),
									baccountBranchNo = reader.GetString(reader.GetOrdinal("accountBranchNo")),
									baccountNo = reader.GetString(reader.GetOrdinal("accountNo")),
									baccountAddress = reader.GetString(reader.GetOrdinal("accountAddress")),
									baccountInitialMoney = reader.IsDBNull(reader.GetOrdinal("accountInitialMoney")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountInitialMoney")),
									bremark = reader.IsDBNull(reader.GetOrdinal("remark")) ? "" : reader.GetString(reader.GetOrdinal("remark")),
									baccountInsert = reader.IsDBNull(reader.GetOrdinal("accountInsert")) ? DateTime.MinValue : reader.GetDateTime(reader.GetOrdinal("accountInsert")),
									baccountUpdate = reader.IsDBNull(reader.GetOrdinal("accountUpdate")) ? DateTime.MinValue : reader.GetDateTime(reader.GetOrdinal("accountUpdate")),

									// 其他屬性...
								};
							newDataList.Add(newData);
						}
					}
				}
				catch (Exception ex)
				{
					kkk += ex.Message;
				}
			}
		}
		return newDataList;
	}

	string todatee = DateTime.Today.ToString("yyyy-MM-dd");
	private bool isAdd=false;
	public void OnClickAdd2(MouseEventArgs e)
	{
		isAdd = !isAdd;
	}

	public void OnClickCancel(MouseEventArgs e)
	{
		isAdd = !isAdd;

	}

	string datee2, myAccount, accountDate, accountBank, accountBankNo, accountNo, accountType, accountIn, accountOut, accountTotal,  remark;
	DateTime datee;
	private NewAccount[] m_NewAccountRecordS;
	public void OnClickSave(MouseEventArgs e)
	{
		if (string.IsNullOrEmpty(money))
		{
			AlertService.Error("請選擇付款方式");
			return;
		}
		if (string.IsNullOrEmpty(accountIn) && string.IsNullOrEmpty(accountOut))
		{
			AlertService.Error("請輸入收入或者支出");
			return;
		}
		if (string.IsNullOrEmpty(accountOtherNo))
		{
			AlertService.Error("請輸入對方帳號");
			return;
		}
		if (DataVersionService.DataVersion != 1)//若版本有更新，例如新增、修改、刪除....
		{
			NewAccount[] updatedData = UpdateNewDataALL2();
			updatedData = updatedData.Where(item => item.baccountNo == subAccount) // 根據帳號篩選
						.GroupBy(item => item.baccountNo) // 按帳號分組
						.Select(group => group.OrderBy(item => item.baccountBank)
								.ThenBy(item => item.baccountNo)
								.ThenBy(item => item.baccountDate)
								.ThenBy(item => item.baccountInsert))
						.SelectMany(sortedGroup => sortedGroup)
						.ToArray();
			if (updatedData.Length == 0)//若該帳號沒有使用過直接新增
			{
				HandleEmptyArray();

			}
			else if (updatedData.Length == 1) //若該帳號只有一條
			{
				HandleArrayWithOneItem();
			}
			else //若該帳號大於2條
			{
				HandleArrayWithMoreThanOneItem();//若帳號有兩條以上
			}
		}
		else
		{
			m_NewAccountS = ServerData.m_NewAccountS.Where(item => item.baccountNo == subAccount) // 根據帳號篩選
						.GroupBy(item => item.baccountNo) // 按帳號分組
						.Select(group => group.OrderBy(item => item.baccountBank)
								.ThenBy(item => item.baccountNo)
								.ThenBy(item => item.baccountDate)
								.ThenBy(item => item.baccountInsert))
						.SelectMany(sortedGroup => sortedGroup)
						.ToArray();
			if (m_NewAccountS.Length == 0)//若該帳號沒有使用過直接新增
			{
				HandleEmptyArray();

			}
			else if (m_NewAccountS.Length == 1) //若該帳號只有一條
			{
				HandleArrayWithOneItem();
			}
			else //若該帳號大於2條
			{
				HandleArrayWithMoreThanOneItem();//若帳號有兩條以上
			}
		}
	}
	public void HandleEmptyArray()//若該帳號沒有使用過直接新增
	{
		datee2 = DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss");//加入日期

		string SQLString = "INSERT INTO dbo.NewAccountInfo ([accountDate],[accountBank],[accountBankNo],[accountBranch],[accountBranchNo],[accountNo],[accountType],[accountIn],[accountOut],[accountTotal],[accountOtherNo],[accountAddress],[remark], [accountInsert],[accountUpdate]) VALUES (@editDate,@bankName,@bankCode,@accountBranch,@accountBranchNo,@accountNo,@accountType,@accountIn,@accountOut,@toto,@accountOtherNo,@accountAddress,@remark ,@accountInsert,@accountUpdate)";
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataSet_up = new DataSet();
		m_AccountRepairS = ServerData.m_AccountRepairS.Where(item => item.baccountNo == subAccount && item.baccountBank == subBank2.Substring(0, subBank2.Length - 3)).ToArray();
		kkk += "hello";
		var repairbranch = m_AccountRepairS[0];
		string r_b = repairbranch.baccountBranch;
		string r_b_n = repairbranch.baccountBranchNo;
		string r_b_a = repairbranch.baccountAddress;
		decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
		decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
		decimal toto = latestIn - latestOut;
		if (sqlconnection.State == System.Data.ConnectionState.Closed)
		{
			sqlconnection.Open();
			SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
			sqlcommand.Parameters.AddWithValue("@editDate", editDate);//交易日期
			sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
			sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
			sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);
			sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//銀行代碼
			sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
			sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
			sqlcommand.Parameters.AddWithValue("@accountIn", (object)accountIn ?? 0);//收入
			sqlcommand.Parameters.AddWithValue("@accountOut", (object)accountOut ?? 0);//支出
			sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
			sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
			sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);
			sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
			sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
			sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
			int rowsAffected = sqlcommand.ExecuteNonQuery();
			if (rowsAffected > 0)
			{
				AlertService.Success($"成功新增{rowsAffected}條");
				myAccount = "";//我的帳號
				accountOut = "";
				accountIn = "";
				accountOtherNo = "";
				DataVersionService.IncrementDataVersion();
				isAdd = !isAdd;
			}
			else
			{
				AlertService.Error("更新失敗");
			}
			SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
			sqlTransaction.Commit();
		}
		UpdateHandleEmptyArray(DateTime.Parse(datee2));
	}

	public void HandleArrayWithOneItem()//若該帳號只有一條新增
	{
		datee2 = DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss");//加入日期

		string SQLString = "INSERT INTO dbo.NewAccountInfo ([accountDate],[accountBank],[accountBankNo],[accountBranch],[accountBranchNo],[accountNo],[accountType],[accountIn],[accountOut],[accountTotal],[accountOtherNo],[accountAddress],[remark], [accountInsert],[accountUpdate]) VALUES (@accountDate,@bankName,@bankCode,@accountBranch,@accountBranchNo,@accountNo,@accountType,@accountIn,@accountOut,@toto,@accountOtherNo,@accountAddress,@remark ,@accountInsert,@accountUpdate)";
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataSet_up = new DataSet();
		if (DataVersionService.DataVersion != 1)
		{
			NewAccount[] updatedData = UpdateNewDataALL2();
			updatedData = updatedData.Where(item => item.baccountNo == subAccount) // 根據帳號篩選
			.GroupBy(item => item.baccountNo) // 按帳號分組
			.Select(group => group.OrderBy(item => item.baccountBank)
								.ThenBy(item => item.baccountNo)
								.ThenBy(item => item.baccountDate)
								.ThenBy(item => item.baccountInsert))
			.SelectMany(sortedGroup => sortedGroup).ToArray();
			m_AccountRepairS = ServerData.m_AccountRepairS.Where(item => item.baccountNo == subAccount && item.baccountBank == subBank2.Substring(0, subBank2.Length - 3)).ToArray();
			var repairbranch = m_AccountRepairS[0];
			string r_b = repairbranch.baccountBranch;
			string r_b_n = repairbranch.baccountBranchNo;
			string r_b_a = repairbranch.baccountAddress;
			var latestRecord = updatedData[0];
			if (latestRecord.baccountDate == editDate)//如果日期一樣
			{
				DateTime a = latestRecord.baccountDate;
				decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				decimal secondTotal = (updatedData[0].baccountIn - updatedData[0].baccountOut);
				decimal toto = secondTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else if (latestRecord.baccountDate > editDate)//最舊
			{
				decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				decimal toto = latestIn - latestOut;
				string accountinsert = datee.ToString("yyyy-MM-dd HH:mm:ss");
				DateTime a = latestRecord.baccountDate;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼	
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					HandleArrayWithOneItemUpdate(latestIn, latestOut);
					UpdateHandleEmptyArray(DateTime.Parse(datee2));
				}
			}
			else//新資料為最新
			{
				DateTime a = latestRecord.baccountDate;
				decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				decimal secondTotal = (updatedData[0].baccountIn - updatedData[0].baccountOut);
				decimal toto = secondTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
		}
		else
		{
			m_NewAccountS = ServerData.m_NewAccountS.Where(item => item.baccountNo == subAccount) // 根據帳號篩選
			.GroupBy(item => item.baccountNo) // 按帳號分組
			.Select(group => group.OrderBy(item => item.baccountBank)
								.ThenBy(item => item.baccountNo)
								.ThenBy(item => item.baccountDate)
								.ThenBy(item => item.baccountInsert))
			.SelectMany(sortedGroup => sortedGroup).ToArray();
			var latestRecord = m_NewAccountS[0];
			m_AccountRepairS = ServerData.m_AccountRepairS.Where(item => item.baccountNo == subAccount && item.baccountBank == subBank2.Substring(0, subBank2.Length - 3)).ToArray();
			var repairbranch = m_AccountRepairS[0];
			string r_b = repairbranch.baccountBranch;
			string r_b_n = repairbranch.baccountBranchNo;
			string r_b_a = repairbranch.baccountAddress;
			if (latestRecord.baccountDate == editDate)//如果日期一樣
			{
				DateTime a = latestRecord.baccountDate;
				decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				decimal secondTotal = (m_NewAccountS[0].baccountIn - m_NewAccountS[0].baccountOut);
				decimal toto = secondTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼	
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址		
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else if (latestRecord.baccountDate > editDate)//最舊
			{
				decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				decimal toto = latestIn - latestOut;
				string accountinsert = datee.ToString("yyyy-MM-dd HH:mm:ss");
				DateTime a = latestRecord.baccountDate;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					HandleArrayWithOneItemUpdate(latestIn, latestOut);
					UpdateHandleEmptyArray(DateTime.Parse(datee2));
				}
			}
			else//新資料為最新
			{
				DateTime a = latestRecord.baccountDate;
				decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				decimal secondTotal = (m_NewAccountS[0].baccountIn - m_NewAccountS[0].baccountOut);
				decimal toto = secondTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring(subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
		}
	}

	public void HandleArrayWithOneItemUpdate(decimal latestIn, decimal latestOut)//若該帳號只有一條ㄉ更新
	{
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataSet_up = new DataSet();
		decimal toto = latestIn - latestOut;
		if (DataVersionService.DataVersion != 1)
		{
			NewAccount[] updatedData = UpdateNewDataALL2();
			updatedData = updatedData.Where(item => item.baccountNo == subAccount) // 根據帳號篩選
			.GroupBy(item => item.baccountNo) // 按帳號分組
			.Select(group => group.OrderBy(item => item.baccountBank)
								.ThenBy(item => item.baccountNo)
								.ThenBy(item => item.baccountDate)
								.ThenBy(item => item.baccountInsert))
			.SelectMany(sortedGroup => sortedGroup).ToArray();
			var latestRecord2 = updatedData[0];
			if (latestRecord2.baccountDate == editDate)//最舊
			{
				string SQLString2 = "UPDATE dbo.NewAccountInfo SET [accountTotal] = @toto  WHERE   [accountBankNo] =@bank AND [accountInsert]= @accountInsert ";
				m_NewAccountRecordS = updatedData.Where(item => item.baccountDate > editDate).ToArray();
				foreach (var oldRecord in m_NewAccountRecordS)
				{
					decimal secondIn = oldRecord.baccountIn;
					decimal secondOut = oldRecord.baccountOut;
					decimal toto1 = (latestIn - latestOut + secondIn - secondOut);
					if (sqlconnection.State == System.Data.ConnectionState.Closed)
					{
						sqlconnection.Open();
						SqlCommand sqlcommand = new SqlCommand(SQLString2, sqlconnection);
						sqlcommand.Parameters.Clear();
						sqlcommand.Parameters.AddWithValue("@accountInsert", oldRecord.baccountInsert);//交易日期
						sqlcommand.Parameters.AddWithValue("@bank", subBank2.Substring( subBank2.Length - 3));//銀行
						sqlcommand.Parameters.AddWithValue("@toto", latestIn - latestOut + secondIn - secondOut);//餘額
						int rowsAffected = sqlcommand.ExecuteNonQuery();
						if (rowsAffected > 0)
						{
							AlertService.Success($"成功更新{rowsAffected}條");
							myAccount = "";//我的帳號
							accountOut = "";
							accountIn = "";
							accountOtherNo = "";

						}
						else
						{
							AlertService.Error("更新失敗");
						}
						SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
						sqlTransaction.Commit();
					}
				}
			}
		}
		else
		{
			m_NewAccountS = ServerData.m_NewAccountS.Where(item => item.baccountNo == subAccount) // 根據帳號篩選
			.GroupBy(item => item.baccountNo) // 按帳號分組
			.Select(group => group.OrderBy(item => item.baccountBank)
							.ThenBy(item => item.baccountNo)
							.ThenBy(item => item.baccountDate)
							.ThenBy(item => item.baccountInsert))
			.SelectMany(sortedGroup => sortedGroup).ToArray();
			var latestRecord = m_NewAccountS[0];
			if (latestRecord.baccountDate > editDate)//最舊
			{
				string SQLString2 = "UPDATE dbo.NewAccountInfo SET [accountTotal] = @toto  WHERE   [accountBankNo] =@bank AND [accountInsert]= @accountInsert ";
				m_NewAccountRecordS = m_NewAccountS.Where(item => item.baccountDate > editDate).ToArray();
				foreach (var oldRecord in m_NewAccountRecordS)
				{
					decimal secondIn = oldRecord.baccountIn;
					decimal secondOut = oldRecord.baccountOut;
					decimal toto1 = (latestIn - latestOut + secondIn - secondOut);
					if (sqlconnection.State == System.Data.ConnectionState.Closed)
					{
						sqlconnection.Open();
						SqlCommand sqlcommand = new SqlCommand(SQLString2, sqlconnection);
						sqlcommand.Parameters.Clear();
						sqlcommand.Parameters.AddWithValue("@accountInsert", oldRecord.baccountInsert);//交易日期
						sqlcommand.Parameters.AddWithValue("@bank", subBank2.Substring( subBank2.Length - 3));//銀行
						sqlcommand.Parameters.AddWithValue("@toto", latestIn - latestOut + secondIn - secondOut);//餘額
						int rowsAffected = sqlcommand.ExecuteNonQuery();
						if (rowsAffected > 0)
						{
							AlertService.Success($"成功更新{rowsAffected}條");
							myAccount = "";//我的帳號
							accountOut = "";
							accountIn = "";
							accountOtherNo = "";
						}
						else
						{
							AlertService.Error("更新失敗");
						}
						SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
						sqlTransaction.Commit();
					}
				}
			}
		}
	}

	public void HandleArrayWithMoreThanOneItem()//若該帳號大於2條新增
	{
		datee2 = DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss");//加入日期
		string SQLString = "INSERT INTO dbo.NewAccountInfo ([accountDate],[accountBank],[accountBankNo],[accountBranch],[accountBranchNo],[accountNo],[accountType],[accountIn],[accountOut],[accountTotal],[accountOtherNo],[accountAddress],[remark], [accountInsert],[accountUpdate]) VALUES (@accountDate,@bankName,@bankCode,@accountBranch,@accountBranchNo,@accountNo,@accountType,@accountIn,@accountOut,@toto,@accountOtherNo,@accountAddress,@remark ,@accountInsert,@accountUpdate)";
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataSet_up = new DataSet();
		var latestRecord = m_NewAccountS[0];// 最舊
		var secondRecord = m_NewAccountS[1];//第二舊
		decimal latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
		decimal latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
		decimal toto = latestIn - latestOut;
		decimal toto1 = 0;
		m_AccountRepairS = ServerData.m_AccountRepairS.Where(item => item.baccountNo == subAccount && item.baccountBank == subBank2.Substring(0, subBank2.Length - 3)).ToArray();
		var repairbranch = m_AccountRepairS[0];
		string r_b = repairbranch.baccountBranch;
		string r_b_n = repairbranch.baccountBranchNo;
		string r_b_a = repairbranch.baccountAddress;
		if (DataVersionService.DataVersion != 1)
		{
			NewAccount[] updatedData = UpdateNewDataALL2();
			updatedData = updatedData
			.Where(item => item.baccountNo == subAccount) // 根據帳號篩選
			.GroupBy(item => item.baccountNo) // 按帳號分組
			.Select(group => group.OrderBy(item => item.baccountBank)
								.ThenBy(item => item.baccountNo)
								.ThenBy(item => item.baccountDate)
								.ThenBy(item => item.baccountInsert))
			.SelectMany(sortedGroup => sortedGroup).ToArray();
			if (updatedData[0].baccountDate == editDate)//如果第一筆舊資料和新資料日期一樣
			{
				for (int i = 0; i < updatedData.Length; i++)
				{
					if (updatedData[i].baccountDate > editDate)
					{
						latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
						latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
						toto = updatedData[i - 1].baccountTotal + latestIn - latestOut;
						if (sqlconnection.State == System.Data.ConnectionState.Closed)
						{
							sqlconnection.Open();
							SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
							sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
							sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
							sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
							sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
							sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼							
							sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
							sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
							sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
							sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
							sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
							sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
							sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址							
							sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
							sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
							sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
							int rowsAffected = sqlcommand.ExecuteNonQuery();
							if (rowsAffected > 0)
							{
								AlertService.Success($"成功新增當前{rowsAffected}條");
								myAccount = "";//我的帳號
								accountOut = "";
								accountIn = "";
								accountOtherNo = "";
								DataVersionService.IncrementDataVersion();
								isAdd = !isAdd;

							}
							else
							{
								AlertService.Error("新增失敗");
							}
							SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
							sqlTransaction.Commit();
							HandleArrayWithMoreThanOneItemUpdate(latestIn, latestOut);
							UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
							break;
						}
					}
					else//maybe所有日期都是同一個，那麼新資料會被當成最新資料 就好了 
					{
						latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
						latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
						toto1 = updatedData.Last().baccountTotal + latestIn - latestOut;
						if (sqlconnection.State == System.Data.ConnectionState.Closed)
						{
							sqlconnection.Open();
							SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
							sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
							sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
							sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
							sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
							sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼
							sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
							sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
							sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
							sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
							sqlcommand.Parameters.AddWithValue("@toto", toto1);//餘額
							sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
							sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
							sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
							sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
							sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
							int rowsAffected = sqlcommand.ExecuteNonQuery();
							if (rowsAffected > 0)
							{
								AlertService.Success($"成功新增當前{rowsAffected}條");
								myAccount = "";//我的帳號
								accountOut = "";
								accountIn = "";
								accountOtherNo = "";
								DataVersionService.IncrementDataVersion();
								isAdd = !isAdd;

							}
							else
							{
								AlertService.Error("新增失敗");
							}
							SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
							sqlTransaction.Commit();
							UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
						}
					}
				}
			}
			else if (updatedData.Last().baccountDate == editDate)//如果舊資料的最後一筆和新添加的資料日期一樣
			{
				latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				toto1 = updatedData.Last().baccountTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼					
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto1);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址					
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else if (updatedData[0].baccountDate > editDate)//新資料成為最舊
			{
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼					
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					HandleArrayWithMoreThanOneItemUpdate(latestIn, latestOut);
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else if (updatedData.Last().baccountDate < editDate)//新資料依然最新
			{
				latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				toto1 = updatedData.Last().baccountTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto1);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else//新資料不舊不新，最麻煩了 QQ
			{
				for (int i = 0; i < updatedData.Length; i++)
				{
					if (updatedData[i].baccountDate > editDate)
					{
						latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
						latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
						toto = updatedData[i - 1].baccountTotal + latestIn - latestOut;
						if (sqlconnection.State == System.Data.ConnectionState.Closed)
						{
							sqlconnection.Open();
							SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
							sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
							sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
							sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
							sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
							sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼							
							sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
							sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
							sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
							sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
							sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
							sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
							sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址							
							sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
							sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
							sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
							int rowsAffected = sqlcommand.ExecuteNonQuery();
							if (rowsAffected > 0)
							{
								AlertService.Success($"成功新增當前{rowsAffected}條");
								myAccount = "";//我的帳號
								accountOut = "";
								accountIn = "";
								accountOtherNo = "";
								DataVersionService.IncrementDataVersion();
								isAdd = !isAdd;

							}
							else
							{
								AlertService.Error("新增失敗");
							}
							SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
							sqlTransaction.Commit();
							HandleArrayWithMoreThanOneItemUpdate(latestIn, latestOut);
							UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
							break;
						}
					}
				}
			}
		}
		else
		{
			m_NewAccountS = ServerData.m_NewAccountS
			.Where(item=> item.baccountNo == subAccount) // 根据账户筛选数据
			.GroupBy(item => subAccount) // 按帳號分組
			.Select(group => group.OrderBy(item => item.baccountBank)
						.ThenBy(item => item.baccountNo)
						.ThenBy(item => item.baccountDate)
						.ThenBy(item => item.baccountInsert))
			.SelectMany(sortedGroup => sortedGroup).ToArray();
			if (latestRecord.baccountDate == editDate)//如果第一筆舊資料和新資料日期一樣
			{
				for (int i = 0; i < m_NewAccountS.Length; i++)
				{
					if (m_NewAccountS[i].baccountDate > editDate)
					{
						latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
						latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
						toto = m_NewAccountS[i - 1].baccountTotal + latestIn - latestOut;
						if (sqlconnection.State == System.Data.ConnectionState.Closed)
						{
							sqlconnection.Open();
							SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
							sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
							sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
							sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
							sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
							sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼							
							sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
							sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
							sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
							sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
							sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
							sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
							sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址							
							sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
							sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
							sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
							int rowsAffected = sqlcommand.ExecuteNonQuery();
							if (rowsAffected > 0)
							{
								AlertService.Success($"成功新增當前{rowsAffected}條");
								myAccount = "";//我的帳號
								accountOut = "";
								accountIn = "";
								accountOtherNo = "";
								DataVersionService.IncrementDataVersion();
								isAdd = !isAdd;

							}
							else
							{
								AlertService.Error("新增失敗");
							}
							SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
							sqlTransaction.Commit();
							HandleArrayWithMoreThanOneItemUpdate(latestIn, latestOut);
							UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
							break;
						}
					}
					else
					{
						latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
						latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);

						toto1 = m_NewAccountS.Last().baccountTotal + latestIn - latestOut;
						if (sqlconnection.State == System.Data.ConnectionState.Closed)
						{
							sqlconnection.Open();
							SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
							sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
							sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
							sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
							sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
							sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼					
							sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
							sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
							sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
							sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
							sqlcommand.Parameters.AddWithValue("@toto", toto1);//餘額
							sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
							sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址					
							sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
							sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
							sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
							int rowsAffected = sqlcommand.ExecuteNonQuery();
							if (rowsAffected > 0)
							{
								AlertService.Success($"成功新增當前{rowsAffected}條");
								myAccount = "";//我的帳號
								accountOut = "";
								accountIn = "";
								accountOtherNo = "";
								DataVersionService.IncrementDataVersion();
								isAdd = !isAdd;

							}
							else
							{
								AlertService.Error("新增失敗");
							}
							SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
							sqlTransaction.Commit();
							UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
						}

					}
				}
			}
			else if (m_NewAccountS.Last().baccountDate == editDate)//如果舊資料的最後一筆和新添加的資料日期一樣
			{
				latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				toto1 = m_NewAccountS.Last().baccountTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼					
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto1);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else if (latestRecord.baccountDate > editDate)//新資料成為最舊
			{
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼					
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					HandleArrayWithMoreThanOneItemUpdate(latestIn, latestOut);
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else if (m_NewAccountS.Last().baccountDate < editDate)//新資料依然最新
			{
				latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
				latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
				toto1 = m_NewAccountS.Last().baccountTotal + latestIn - latestOut;
				if (sqlconnection.State == System.Data.ConnectionState.Closed)
				{
					sqlconnection.Open();
					SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
					sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
					sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
					sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
					sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
					sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼					
					sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
					sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
					sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
					sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
					sqlcommand.Parameters.AddWithValue("@toto", toto1);//餘額
					sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
					sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址					
					sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
					sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
					sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
					int rowsAffected = sqlcommand.ExecuteNonQuery();
					if (rowsAffected > 0)
					{
						AlertService.Success($"成功新增當前{rowsAffected}條");
						myAccount = "";//我的帳號
						accountOut = "";
						accountIn = "";
						accountOtherNo = "";
						DataVersionService.IncrementDataVersion();
						isAdd = !isAdd;

					}
					else
					{
						AlertService.Error("新增失敗");
					}
					SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
					sqlTransaction.Commit();
					UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
				}
			}
			else//新資料不舊不新，最麻煩了 QQ
			{
				for (int i = 0; i < m_NewAccountS.Length; i++)
				{
					if (m_NewAccountS[i].baccountDate > editDate)
					{
						latestIn = string.IsNullOrEmpty(accountIn) ? 0 : decimal.Parse(accountIn);
						latestOut = string.IsNullOrEmpty(accountOut) ? 0 : decimal.Parse(accountOut);
						toto = m_NewAccountS[i - 1].baccountTotal + latestIn - latestOut;
						if (sqlconnection.State == System.Data.ConnectionState.Closed)
						{
							sqlconnection.Open();
							SqlCommand sqlcommand = new SqlCommand(SQLString, sqlconnection);
							sqlcommand.Parameters.AddWithValue("@accountDate", editDate);//交易日期
							sqlcommand.Parameters.AddWithValue("@bankName", subBank2.Substring(0, subBank2.Length - 3));//銀行
							sqlcommand.Parameters.AddWithValue("@bankCode", subBank2.Substring( subBank2.Length - 3));//銀行代碼
							sqlcommand.Parameters.AddWithValue("@accountBranch", r_b);//分行
							sqlcommand.Parameters.AddWithValue("@accountBranchNo", r_b_n);//分行代碼							
							sqlcommand.Parameters.AddWithValue("@accountNo", subAccount);//我的帳號
							sqlcommand.Parameters.AddWithValue("@accountType", money);//付款方式
							sqlcommand.Parameters.AddWithValue("@accountIn", latestIn);//收入
							sqlcommand.Parameters.AddWithValue("@accountOut", latestOut);//支出
							sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
							sqlcommand.Parameters.AddWithValue("@accountOtherNo", accountOtherNo);//對方帳號
							sqlcommand.Parameters.AddWithValue("@accountAddress", r_b_a);//地址							
							sqlcommand.Parameters.AddWithValue("@remark", (object)remark ?? DBNull.Value);//備註
							sqlcommand.Parameters.AddWithValue("@accountInsert", datee2);//加入時間，之後排序以這個為主
							sqlcommand.Parameters.AddWithValue("@accountUpdate", datee2);//修改時間，初始都是和加入時間相同，後續會因為有修改而變動時間
							int rowsAffected = sqlcommand.ExecuteNonQuery();
							if (rowsAffected > 0)
							{
								AlertService.Success($"成功新增當前{rowsAffected}條");
								myAccount = "";//我的帳號
								accountOut = "";
								accountIn = "";
								accountOtherNo = "";
								DataVersionService.IncrementDataVersion();
								isAdd = !isAdd;

							}
							else
							{
								AlertService.Error("新增失敗");
							}
							SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
							sqlTransaction.Commit();
							HandleArrayWithMoreThanOneItemUpdate(latestIn, latestOut);
							UpdateHandleEmptyArray(DateTime.Parse(datee2));//更新頁面
							break;
						}
					}
				}
			}
		}
	}

	public void HandleArrayWithMoreThanOneItemUpdate(decimal latestIn, decimal latestOut)//若該帳號大於2條更新
	{
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataSet_up = new DataSet();
		var oldRecord = m_NewAccountS[0];
		var secondRecourd = m_NewAccountS[1];
		decimal toto = latestIn - latestOut;
		decimal toto0 = 0;//最舊
		decimal toto1 = 0;

		using (SqlConnection sqlConnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022"))
		{
			if (DataVersionService.DataVersion != 1)
			{
				NewAccount[] updatedData = UpdateNewDataALL2();
				updatedData = updatedData.Where(item => item.baccountNo == subAccount )// 根據帳號篩選
			.GroupBy(item => item.baccountNo) // 按帳號分組
				.Select(group => group.OrderBy(item => item.baccountBank)
										.ThenBy(item => item.baccountNo)
										.ThenBy(item => item.baccountDate)
										.ThenBy(item => item.baccountInsert))
				.SelectMany(sortedGroup => sortedGroup).ToArray();







				if (updatedData[0].baccountDate == editDate)//如果最舊的資料和新資料日期一樣
				{
					for (int i = 0; i < updatedData.Length; i++)
					{
						if (updatedData[i].baccountDate != editDate)
						{
							toto1 = updatedData[i - 1].baccountTotal;//新資料不舊不新，最麻煩了 QQ
							for (int j = i; j < updatedData.Length; j++)
							{
								toto1 += updatedData[j].baccountIn - updatedData[j].baccountOut;
								bank = updatedData[j].baccountBankNo;
								accountInsert = updatedData[j].baccountInsert;
								accountDate = updatedData[j].baccountDate.ToString("yyyy-MM-dd");
								UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto1, accountInsert);
							}
							break;
						}
					}
				}
				else if (updatedData.Last().baccountDate == editDate)//如果新資料和最後一筆資料日期一樣
				{ }
				else if (updatedData[0].baccountDate > editDate)//最舊
				{
					for (int i = 0; i < updatedData.Length; i++)
					{
						accountInsert = updatedData[i].baccountInsert;
						accountDate = updatedData[i].baccountDate.ToString("yyyy-MM-dd");
						bank = m_NewAccountS[i].baccountBankNo;
						if (i == 0)
						{
							decimal oldIn = updatedData[0].baccountIn;
							decimal oldOut = updatedData[0].baccountOut;
							toto0 = toto + oldIn - oldOut;
							UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto0, accountInsert);
						}
						else
						{
							toto0 += updatedData[i].baccountIn - updatedData[i].baccountOut;
							UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto0, accountInsert);
						}
					}

				}
				else if (updatedData.Last().baccountDate < editDate)//新資料依然最新
				{ }
				else//不新不舊
				{
					for (int i = 0; i < updatedData.Length; i++)
					{
						if (updatedData[i].baccountDate > editDate)
						{
							toto1 = updatedData[i - 1].baccountTotal ;//新資料不舊不新，最麻煩了 QQ

							for (int j = i; j < updatedData.Length; j++)
							{
								toto1 += updatedData[j].baccountIn - updatedData[j].baccountOut;
								bank = updatedData[j].baccountBankNo;
								accountInsert = updatedData[j].baccountInsert;
								accountDate = updatedData[j].baccountDate.ToString("yyyy-MM-dd");
								UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto1, accountInsert);

							}
							break;
						}
					}
				}
			}
			else
			{
				m_NewAccountS = ServerData.m_NewAccountS
.Where(item => item.baccountNo == subAccount) // 根据账户筛选数据
.GroupBy(item => subAccount) // 按帳號分組
.Select(group => group.OrderBy(item => item.baccountBank)
	.ThenBy(item => item.baccountNo)
	.ThenBy(item => item.baccountDate)
	.ThenBy(item => item.baccountInsert))
.SelectMany(sortedGroup => sortedGroup).ToArray();


				m_NewAccountRecordS = m_NewAccountS.Where(item => item.baccountDate >= editDate).GroupBy(item => subAccount) // 按帳號分組
				.Select(group => group.OrderBy(item => item.baccountBank)
										.ThenBy(item => subAccount)
										.ThenBy(item => item.baccountDate)
										.ThenBy(item => item.baccountInsert))
				.SelectMany(sortedGroup => sortedGroup).ToArray();

				if (oldRecord.baccountDate == editDate)//如果最舊的資料和新資料日期一樣
				{
					for (int i = 0; i < m_NewAccountRecordS.Length; i++)
					{
						if (m_NewAccountRecordS[i].baccountDate == editDate)
						{
							toto1 = m_NewAccountRecordS[i].baccountTotal + latestIn - latestOut;//新資料不舊不新，最麻煩了 QQ
							for (int j = i + 1; j < m_NewAccountRecordS.Length; j++)
							{
								toto1 += m_NewAccountRecordS[j].baccountIn - m_NewAccountRecordS[j].baccountOut;
								bank = m_NewAccountRecordS[j].baccountBankNo;
								accountInsert = m_NewAccountRecordS[j].baccountInsert;
								accountDate = m_NewAccountRecordS[j].baccountDate.ToString("yyyy-MM-dd");
								UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto1, accountInsert);
							}
						}
					}
				}
				else if (m_NewAccountS.Last().baccountDate == editDate)//如果新資料和最後一筆資料日期一樣
				{ }
				else if (oldRecord.baccountDate > editDate)//最舊
				{
					for (int i = 0; i < m_NewAccountRecordS.Length; i++)
					{
						accountInsert = m_NewAccountRecordS[i].baccountInsert;
						accountDate = m_NewAccountS[i].baccountDate.ToString("yyyy-MM-dd");
						bank = m_NewAccountS[i].baccountBankNo;
						if (i == 0)
						{
							decimal oldIn = m_NewAccountRecordS[0].baccountIn;
							decimal oldOut = m_NewAccountRecordS[0].baccountOut;
							toto0 = toto + oldIn - oldOut;
							UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto0, accountInsert);
						}
						else
						{
							toto0 += m_NewAccountRecordS[i].baccountIn - m_NewAccountRecordS[i].baccountOut;
							UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto0, accountInsert);
						}
					}
				}
				else if (m_NewAccountS.Last().baccountDate < editDate)//新資料依然最新
				{ }
				else//不新不舊
				{
					for (int i = 0; i < m_NewAccountS.Length; i++)
					{
						if (m_NewAccountS[i].baccountDate > editDate || m_NewAccountS[i].baccountDate == editDate)
						{
							toto1 = m_NewAccountS[i - 1].baccountTotal + latestIn - latestOut;//新資料不舊不新，最麻煩了 QQ
							for (int j = i; j < m_NewAccountS.Length; j++)
							{
								toto1 += m_NewAccountS[j].baccountIn - m_NewAccountS[j].baccountOut;
								bank = m_NewAccountS[j].baccountBankNo;
								accountInsert = m_NewAccountS[j].baccountInsert;
								accountDate = m_NewAccountS[j].baccountDate.ToString("yyyy-MM-dd");
								UpdateAccountTotal(sqlConnection, accountDate, bank, myAccount, toto1, accountInsert);
								break;
							}
						}
					}
				}
			}
		}
	}

	public void UpdateAccountTotal(SqlConnection sqlConnection, string accountDate, string bankCode, string accountNo, decimal toto, DateTime accountInsert)
	{
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		DataSet dataSet_up = new DataSet();
		string SQLString2 = "UPDATE dbo.NewAccountInfo SET [accountTotal] = @toto  WHERE  [accountBankNo] =@bank AND [accountDate]= @accountDate  AND [accountInsert]=@accountInsert";
		if (sqlconnection.State == System.Data.ConnectionState.Closed)
		{
			sqlconnection.Open();
			SqlCommand sqlcommand = new SqlCommand(SQLString2, sqlconnection);
			sqlcommand.Parameters.Clear();
			sqlcommand.Parameters.AddWithValue("@accountDate", accountDate);//交易日期
			sqlcommand.Parameters.AddWithValue("@bank", bankCode);//銀行
			sqlcommand.Parameters.AddWithValue("@toto", toto);//餘額
			sqlcommand.Parameters.AddWithValue("@accountInsert", accountInsert);//加入時間，用於辨別
			int rowsAffected = sqlcommand.ExecuteNonQuery();
			if (rowsAffected > 0)

			{
				AlertService.Success($"成功更新{rowsAffected}條");
				myAccount = "";//我的帳號
				accountOut = "";
				accountIn = "";
				accountOtherNo = "";
			}
			else
			{
				AlertService.Error("更新失敗");
			}
			SqlTransaction sqlTransaction = sqlconnection.BeginTransaction();
			sqlTransaction.Commit();
		}
	}

	public void UpdateHandleEmptyArray(DateTime date)//更新頁面/HandleEmptyArray
	{
		m_NewAccountS = Array.Empty<NewAccount>();
		// 將 NewAccount[] 陣列轉換為 List<NewAccount>
		List<NewAccount> newList = m_NewAccountS.ToList();
		// 新資料列表
		List<NewAccount> newDataList = GetDataFromDatabase();
		// 使用 AddRange 將新資料列表添加到現有的列表中
		newList.AddRange(newDataList);
		// 將結果轉換回陣列
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_NewAccountS = newList.Where(item => item.baccountInsert.ToString("yyyy/MM/dd HH:mm:ss") == date.ToString("yyyy/MM/dd HH:mm:ss"))
										.ToArray();
		kkk += "hello";
	}
	public List<NewAccount> GetDataFromDatabase()
	{
		List<NewAccount> newDataList = new List<NewAccount>();
		SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		string SQLString = "SELECT ROW_NUMBER() OVER(PARTITION BY accountBank, accountNo ORDER BY  accountDate ASC)  , *FROM NewAccountInfo; ";
		string connectionString = "Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022";
		dataset = new DataSet();
		using (SqlConnection connection = new SqlConnection(connectionString))
		{
			using (SqlCommand command = new SqlCommand(SQLString, connection))
			{
				connection.Open();
				using (SqlDataReader reader = command.ExecuteReader())
				{
					while (reader.Read())
					{
						NewAccount newData = new NewAccount
							{
								// 這裡的屬性賦值根據您的資料表結構進行調整
								baccountDate = reader.GetDateTime(reader.GetOrdinal("accountDate")),
								baccountBank = reader.GetString(reader.GetOrdinal("accountBank")),
								baccountBankNo = reader.GetString(reader.GetOrdinal("accountBankNo")),
								baccountBranch = reader.GetString(reader.GetOrdinal("accountBranch")),
								baccountBranchNo = reader.GetString(reader.GetOrdinal("accountBranchNo")),
								baccountNo = reader.GetString(reader.GetOrdinal("accountNo")),
								baccountType = reader.GetString(reader.GetOrdinal("accountType")),
								baccountIn = reader.IsDBNull(reader.GetOrdinal("accountIn")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountIn")),
								baccountOut = reader.IsDBNull(reader.GetOrdinal("accountOut")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountOut")),
								baccountTotal = reader.IsDBNull(reader.GetOrdinal("accountTotal")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountTotal")),
								baccountOtherNo = reader.GetString(reader.GetOrdinal("accountOtherNo")),
								baccountAddress = reader.GetString(reader.GetOrdinal("accountAddress")),
								bremark = reader.IsDBNull(reader.GetOrdinal("remark")) ? "" : reader.GetString(reader.GetOrdinal("remark")),
								baccountInsert = reader.GetDateTime(reader.GetOrdinal("accountInsert")),
								baccountUpdate = reader.GetDateTime(reader.GetOrdinal("accountUpdate"))
								// 其他屬性...
							};
						newDataList.Add(newData);
					}
				}
			}
			return newDataList;
		}
	}



#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DataVersionService DataVersionService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAlertService AlertService { get; set; }
    }
}
#pragma warning restore 1591
