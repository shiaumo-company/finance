#pragma checksum "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor" "{8829d00f-11b8-4213-878b-770e8597ac16}" "1fb9f2bb72531a1ed2a4c09356523dd709a01e526bcb33215e721437eae9ebfc"
// <auto-generated/>
#pragma warning disable 1591
namespace DBS.Pages
{
    #line hidden
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using DBS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\_Imports.razor"
using DBS.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using System.Data.SqlClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using DBS.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using DBS.Pages;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using DBS.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using X.PagedList;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/SelectData")]
    public partial class SelectData : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h3 b-0mucdbzhj5> 查詢資料  &nbsp; &nbsp;SelectData</h3>\r\n\r\n");
            __builder.OpenElement(1, "head");
            __builder.AddAttribute(2, "b-0mucdbzhj5");
            __builder.AddMarkupContent(3, @"<link href=""styles/site.css"" rel=""stylesheet"" b-0mucdbzhj5>
	<link rel=""stylesheet"" href=""https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/4.7.0/css/font-awesome.min.css"" b-0mucdbzhj5>
	<link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css"" integrity=""sha512-XNkCjx/a0lED2ktq3KaBz1v62cxVvLU9y+gZLnhyl4+btRhe+uxLw6J/9M+k2JvZFsX5v9FxVjH4D2u5JUdw=="" b-0mucdbzhj5>
	<meta name=""viewport"" content=""width=device-width, initial-scale=1"" b-0mucdbzhj5>
	");
            __builder.OpenElement(4, "script");
            __builder.AddAttribute(5, "src", "https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js");
            __builder.AddAttribute(6, "integrity", "sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8");
            __builder.AddAttribute(7, "crossorigin", "anonymous");
            __builder.AddAttribute(8, "b-0mucdbzhj5");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(9, "\r\n\r\n");
            __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(10);
            __builder.AddAttribute(11, "Authorized", (global::Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.OpenElement(12, "table");
                __builder2.AddAttribute(13, "class", "table");
                __builder2.AddAttribute(14, "style", "text-align:right; margin-top:20px;");
                __builder2.AddAttribute(15, "b-0mucdbzhj5");
                __builder2.AddMarkupContent(16, @"<thead b-0mucdbzhj5><tr b-0mucdbzhj5><th style=""text-align:center"" b-0mucdbzhj5>交易日期</th>
					<th style=""width:400px;text-align:left"" b-0mucdbzhj5>銀行代碼</th>
					<th b-0mucdbzhj5>銀行帳號</th>
					<th b-0mucdbzhj5>方式</th>
					<th style=""text-align:right;"" b-0mucdbzhj5>收入</th>
					<th style=""text-align:right;"" b-0mucdbzhj5>支出</th>
					<th b-0mucdbzhj5>結存餘額</th>
					<th b-0mucdbzhj5>對方行帳號</th>
					<th b-0mucdbzhj5>備註</th></tr></thead>
			");
                __builder2.OpenElement(17, "tbody");
                __builder2.AddAttribute(18, "b-0mucdbzhj5");
#nullable restore
#line 40 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
     if (m_NewAccountS != null)
				{
					

#line default
#line hidden
#nullable disable
#nullable restore
#line 42 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
      foreach (var account in PagedList)
					{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(19, "tr");
                __builder2.AddAttribute(20, "onmouseover", "this.style.backgroundColor=\'rgba(184,193,236,0.6)\';this.style.color=\'#350E51\';");
                __builder2.AddAttribute(21, "onmouseout", "this.style.backgroundColor=\'#FFFFFE\';");
                __builder2.AddAttribute(22, "b-0mucdbzhj5");
                __builder2.OpenElement(23, "td");
                __builder2.AddAttribute(24, "style", "text-align:center");
                __builder2.AddAttribute(25, "b-0mucdbzhj5");
#nullable restore
#line (45,38)-(45,78) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(26, account.baccountDate.ToShortDateString());

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(27, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(28, "td");
                __builder2.AddAttribute(29, "style", "text-align:left");
                __builder2.AddAttribute(30, "b-0mucdbzhj5");
#nullable restore
#line (46,37)-(46,59) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(31, account.baccountBankNo);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(32, " ");
#nullable restore
#line (46,61)-(46,81) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(33, account.baccountBank);

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(34, "<br b-0mucdbzhj5>");
#nullable restore
#line 47 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
       foreach (var repair in ServerData.m_AccountRepairS.Where(r => r.baccountNo == account.baccountNo))
						{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(35, "span");
                __builder2.AddAttribute(36, "b-0mucdbzhj5");
#nullable restore
#line (49,15)-(49,38) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(37, repair.baccountBranchNo);

#line default
#line hidden
#nullable disable
                __builder2.AddContent(38, " ");
#nullable restore
#line (49,40)-(49,61) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(39, repair.baccountBranch);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(40, "\r\n\t\t\t\t\t\t\t<br b-0mucdbzhj5>");
#nullable restore
#line 51 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
						}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(41, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(42, "td");
                __builder2.AddAttribute(43, "style", "width:400px");
                __builder2.AddAttribute(44, "b-0mucdbzhj5");
#nullable restore
#line (53,32)-(53,50) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(45, account.baccountNo);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(46, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(47, "td");
                __builder2.AddAttribute(48, "b-0mucdbzhj5");
#nullable restore
#line (54,12)-(54,32) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(49, account.baccountType);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(50, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(51, "td");
                __builder2.AddAttribute(52, "style", "text-align:right;");
                __builder2.AddAttribute(53, "b-0mucdbzhj5");
#nullable restore
#line (55,38)-(55,56) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(54, account.baccountIn);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(55, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(56, "td");
                __builder2.AddAttribute(57, "style", "text-align:right;");
                __builder2.AddAttribute(58, "b-0mucdbzhj5");
#nullable restore
#line (56,39)-(56,58) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(59, account.baccountOut);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(60, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(61, "td");
                __builder2.AddAttribute(62, "b-0mucdbzhj5");
#nullable restore
#line (57,12)-(57,33) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(63, account.baccountTotal);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(64, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(65, "td");
                __builder2.AddAttribute(66, "b-0mucdbzhj5");
#nullable restore
#line (58,12)-(58,35) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(67, account.baccountOtherNo);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(68, "\r\n\t\t\t\t\t\t");
                __builder2.OpenElement(69, "td");
                __builder2.AddAttribute(70, "b-0mucdbzhj5");
#nullable restore
#line (59,12)-(59,27) 26 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(71, account.bremark);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 61 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
					}

#line default
#line hidden
#nullable disable
#nullable restore
#line 61 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
      
				}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(72, "\r\n\t\t\t");
                __builder2.OpenElement(73, "tfoot");
                __builder2.AddAttribute(74, "b-0mucdbzhj5");
                __builder2.OpenElement(75, "tr");
                __builder2.AddAttribute(76, "b-0mucdbzhj5");
                __builder2.OpenElement(77, "td");
                __builder2.AddAttribute(78, "colspan", "9");
                __builder2.AddAttribute(79, "b-0mucdbzhj5");
                __builder2.OpenElement(80, "div");
                __builder2.AddAttribute(81, "class", "pager");
                __builder2.AddAttribute(82, "b-0mucdbzhj5");
#nullable restore
#line 68 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
        if (PagedList.PageCount > 1)
							{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(83, "button");
                __builder2.AddAttribute(84, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 70 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                          (() => LoadPage(1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(85, "class", "first_selected");
                __builder2.AddAttribute(86, "b-0mucdbzhj5");
                __builder2.AddMarkupContent(87, "<i class=\"fas fa-angle-double-left\" b-0mucdbzhj5></i>&nbsp第一頁");
                __builder2.CloseElement();
#nullable restore
#line 71 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
         if (PagedList.PageNumber == 1)
								{	

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(88, "button");
                __builder2.AddAttribute(89, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 73 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                           (() => LoadPage(1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(90, "class", "previous_selected");
                __builder2.AddAttribute(91, "b-0mucdbzhj5");
                __builder2.AddMarkupContent(92, "<i class=\"fas fa-angle-left\" b-0mucdbzhj5></i>&nbsp上一頁");
                __builder2.CloseElement();
#nullable restore
#line 74 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
								}
								else
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(93, "button");
                __builder2.AddAttribute(94, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 77 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                           (() => LoadPage(PagedList.PageNumber - 1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(95, "class", "previous_selected");
                __builder2.AddAttribute(96, "b-0mucdbzhj5");
                __builder2.AddMarkupContent(97, "<i class=\"fas fa-angle-left\" b-0mucdbzhj5></i>&nbsp上一頁");
                __builder2.CloseElement();
#nullable restore
#line 78 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
								}

#line default
#line hidden
#nullable disable
#nullable restore
#line 78 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
         
							}

#line default
#line hidden
#nullable disable
#nullable restore
#line 80 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
        foreach (var pageNumber in Enumerable.Range(1, PagedList.PageCount))
							{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(98, "button");
                __builder2.AddAttribute(99, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 82 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                          (() => LoadPage(pageNumber))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(100, "class", 
#nullable restore
#line 82 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                                                                 pageNumber == PagedList.PageNumber ? "selected" : "non_selected"

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(101, "b-0mucdbzhj5");
#nullable restore
#line (82,134)-(82,144) 27 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
__builder2.AddContent(102, pageNumber);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 83 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
							}

#line default
#line hidden
#nullable disable
#nullable restore
#line 84 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
        if (PagedList.PageCount > 1)
							{
								

#line default
#line hidden
#nullable disable
#nullable restore
#line 86 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
         if (PagedList.PageNumber == PagedList.PageCount)
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(103, "button");
                __builder2.AddAttribute(104, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 88 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                             (() => LoadPage(PagedList.PageCount))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(105, "class", "next_selected");
                __builder2.AddAttribute(106, "b-0mucdbzhj5");
                __builder2.AddMarkupContent(107, "下一頁&nbsp<i class=\"fas fa-angle-double-right\" b-0mucdbzhj5></i>");
                __builder2.CloseElement();
#nullable restore
#line 89 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
								}
								else
								{

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(108, "button");
                __builder2.AddAttribute(109, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 92 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                            (() => LoadPage(PagedList.PageNumber +1))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(110, "class", "next_selected");
                __builder2.AddAttribute(111, "b-0mucdbzhj5");
                __builder2.AddMarkupContent(112, "下一頁&nbsp<i class=\"fas fa-angle-double-right\" b-0mucdbzhj5></i>");
                __builder2.CloseElement();
#nullable restore
#line 93 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
								}

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(113, "button");
                __builder2.AddAttribute(114, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 94 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
                           (() => LoadPage(PagedList.PageCount))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(115, "class", "last_selected");
                __builder2.AddAttribute(116, "b-0mucdbzhj5");
                __builder2.AddMarkupContent(117, "最末頁&nbsp<i class=\"fas fa-angle-double-right\" b-0mucdbzhj5></i>");
                __builder2.CloseElement();
#nullable restore
#line 95 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
							}

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 104 "C:\Users\013590\source\repos\DBS\DBS_240220_2_1\DBS\DBS\Pages\SelectData.razor"
       
	private NewAccount[] m_NewAccountS { get; set; }
	private AccountRepair[] m_AccountRepairS { get; set; }
	private IPagedList<NewAccount> PagedList { get; set; }
	private const int PageSize = 9;

	protected override void OnInitialized()
	{
		base.OnInitialized();
		OnClickSelect_All(); // 在頁面初始化時自動調用 onclickselect_all 方法
		LoadPage(1);
	}
	private void LoadPage(int pageNumber)
	{
		PagedList = m_NewAccountS.ToPagedList(pageNumber, PageSize);
	}

	private void HandlePageChange(int newPageNumber)
	{
		LoadPage(newPageNumber);
	}

	string kkk = "";
	public void OnClickSelect_All()
	{
		try
		{
			// 判斷資料庫是否有變動
			if (DataVersionService.DataVersion != 1)
			{
				m_NewAccountS = Array.Empty<NewAccount>();
				NewAccount[] updatedData = UpdateNewDataALL2();
				m_NewAccountS = updatedData.GroupBy(item => item.baccountNo) // 按帳號分組
				.Select(group => group.OrderBy(item => item.baccountBank)
							.ThenBy(item => item.baccountNo)
							.ThenBy(item => item.baccountDate)
							.ThenBy(item => item.baccountInsert))
				.SelectMany(sortedGroup => sortedGroup).ToArray();
				LoadPage(1);

			}
			else
			{
				if (m_NewAccountS == null)
				{
					m_NewAccountS = ServerData.m_NewAccountS.GroupBy(item => item.baccountNo) // 按帳號分組
					.Select(group => group.OrderBy(item => item.baccountBank)
											.ThenBy(item => item.baccountNo)
											.ThenBy(item => item.baccountDate)
											.ThenBy(item => item.baccountInsert))
					.SelectMany(sortedGroup => sortedGroup).ToArray();
					LoadPage(1);

				}
				else
				{
					m_NewAccountS = Array.Empty<NewAccount>();
					m_NewAccountS = ServerData.m_NewAccountS.GroupBy(item => item.baccountNo) // 按帳號分組
					.Select(group => group.OrderBy(item => item.baccountBank)
											.ThenBy(item => item.baccountNo)
											.ThenBy(item => item.baccountDate)
											.ThenBy(item => item.baccountInsert))
					.SelectMany(sortedGroup => sortedGroup).ToArray();
					LoadPage(1);

				}
			}
		}
		catch (Exception msg)
		{
			kkk = msg.Message;
		}
		AlertService.Success($"總共查詢到{m_NewAccountS.Count()}筆資料");
		if (m_NewAccountS == null)
		{
			AlertService.Warn("尚無資料");
		}
	}

	public NewAccount[] UpdateNewDataALL2()
	{
		// 新資料列表
		List<NewAccount> newDataList = GetNewData();
		// 將新資料列表添加到現有的 m_NewAccountS 中
		m_NewAccountS = newDataList.ToArray();
		return m_NewAccountS;
	}

	public DataSet dataset = new DataSet();
	public List<NewAccount> GetNewData()//再次抓取資料
	{
		List<NewAccount> newDataList = new List<NewAccount>();
		//SqlConnection sqlconnection = new SqlConnection("Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022");
		string connectionString = "Data Source=192.168.10.243\\SRV_DBSAPI,1433;Initial Catalog=Platform;User ID=sa;Password=DBSsa@2022";
		string SQLString = "SELECT ROW_NUMBER() OVER (PARTITION　BY accountBank, accountNo ORDER BY  accountDate ASC )  , * FROM NewAccountInfo; ";
		dataset = new DataSet();
		using (SqlConnection connection = new SqlConnection(connectionString))
		{
			using (SqlCommand command = new SqlCommand(SQLString, connection))
			{
				connection.Open();
				using (SqlDataReader reader = command.ExecuteReader())
				{
					while (reader.Read())
					{
						NewAccount newData = new NewAccount
							{
								// 這裡的屬性賦值根據您的資料表結構進行調整
								baccountDate = reader.GetDateTime(reader.GetOrdinal("accountDate")),
								baccountBank = reader.GetString(reader.GetOrdinal("accountBank")),
								baccountBankNo = reader.GetString(reader.GetOrdinal("accountBankNo")),
								baccountBranch = reader.GetString(reader.GetOrdinal("accountBranch")),
								baccountBranchNo = reader.GetString(reader.GetOrdinal("accountBranchNo")),
								baccountNo = reader.GetString(reader.GetOrdinal("accountNo")),
								baccountType = reader.GetString(reader.GetOrdinal("accountType")),
								baccountIn = reader.IsDBNull(reader.GetOrdinal("accountIn")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountIn")),
								baccountOut = reader.IsDBNull(reader.GetOrdinal("accountOut")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountOut")),
								baccountTotal = reader.IsDBNull(reader.GetOrdinal("accountTotal")) ? 0 : reader.GetDecimal(reader.GetOrdinal("accountTotal")),
								baccountOtherNo = reader.GetString(reader.GetOrdinal("accountOtherNo")),
								baccountAddress = reader.GetString(reader.GetOrdinal("accountAddress")),
								bremark = reader.IsDBNull(reader.GetOrdinal("remark")) ? "" : reader.GetString(reader.GetOrdinal("remark")),
								baccountInsert = reader.GetDateTime(reader.GetOrdinal("accountInsert")),
								baccountUpdate = reader.IsDBNull(reader.GetOrdinal("accountUpdate")) ? DateTime.MinValue : reader.GetDateTime(reader.GetOrdinal("accountUpdate")),
								// 其他屬性...
							};
						newDataList.Add(newData);
					}
				}
			}
			return newDataList;
		}
	}

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DataVersionService DataVersionService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAlertService AlertService { get; set; }
    }
}
#pragma warning restore 1591
